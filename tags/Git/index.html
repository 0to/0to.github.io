
<!DOCTYPE html>
<html lang="en,zh-cn,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Just Do IT">
    <title>Tag: Git - Just Do IT</title>
    <meta name="author" content="Weilong">
    
    
        <link rel="icon" href="https://0to.github.io/assets/images/owl.png">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥ã€‚">
<meta property="og:type" content="blog">
<meta property="og:title" content="Just Do IT">
<meta property="og:url" content="https://0to.github.io/tags/Git/index.html">
<meta property="og:site_name" content="Just Do IT">
<meta property="og:description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥ã€‚">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Weilong">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://0to.github.io/assets/images/owl.png"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85893233-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-85893233-1');
    </script>


    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?c9c4d3aced97237b37b08c97b10e7d3e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Just Do IT
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Weilong</h4>
                
                    <h5 class="sidebar-profile-bio"> <ul> Write something about work and life: <ul class="nav pull-left"> <li align="left">Project management</li> <li align="left">Configuration management</li> <li align="left">Process improvement</li> <li align="left">Continuous deploy</li> <li align="left">Python program</li> </ul>
</ul> </h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/0to"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://cn.linkedin.com/in/é¾™-å¨-73303298"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:326688025@qq.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/22197/"
                            aria-label=": Centos7 å‡çº§gitç‰ˆæœ¬ - æºç ç¼–è¯‘å®‰è£…"
                        >
                            Centos7 å‡çº§gitç‰ˆæœ¬ - æºç ç¼–è¯‘å®‰è£…
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-10-13T14:30:06+08:00">
	
		    Oct 13, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>åŸç”ŸCentos7ç³»ç»Ÿçš„yumæºè‡ªå¸¦gitç‰ˆæœ¬æ˜¯1.8.3.1ã€‚</p>
<p>è¿™ä¸ªç‰ˆæœ¬è¯ç”Ÿäºï¼š10-Jun-2013ã€‚</p>
<p>å¾ˆå¤šæ–°ç‰¹æ€§éƒ½ä¸æ”¯æŒï¼Œä¸ºäº†æ›´å¥½çš„ä½¿ç”¨gitï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œç‰ˆæœ¬å‡çº§ã€‚</p>
<h1 id="æºç ç¼–è¯‘å®‰è£…"><a href="#æºç ç¼–è¯‘å®‰è£…" class="headerlink" title="æºç ç¼–è¯‘å®‰è£…"></a>æºç ç¼–è¯‘å®‰è£…</h1><ol>
<li>å®‰è£…ç›¸å…³ä¾èµ–<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel asciidoc</span><br><span class="line"># yum install  gcc perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure></li>
<li>å¸è½½å½“å‰git<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum remove git</span><br></pre></td></tr></table></figure></li>
<li>ä¸‹è½½æ–°ç‰ˆæœ¬æºç åŒ…<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å®˜æ–¹ä»“åº“åœ°å€ï¼šhttps://mirrors.edge.kernel.org/pub/software/scm/git/</span><br><span class="line">å½“å‰æœ€æ–°ç‰ˆæœ¬ï¼šgit-2.28.0.tar.xz       27-Jul-2020</span><br><span class="line"></span><br><span class="line"># wget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.28.0.tar.xz</span><br></pre></td></tr></table></figure></li>
<li>æºç ç¼–è¯‘å®‰è£…<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># tar -xvf git-2.28.0.tar.xz</span><br><span class="line"># cd git-2.28.0/</span><br><span class="line"># which openssl  è·å–æœ¬æœºopensslè·¯å¾„ï¼Œå½“å‰æœºå™¨/usr/bin/openssl</span><br><span class="line"># ./configure --with-openssl=/usr/bin/openssl</span><br><span class="line"># make prefix=/usr/local/git all</span><br><span class="line"># make prefix=/usr/local/git install</span><br><span class="line"># echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt;&gt; /etc/profile</span><br><span class="line"># source /etc/profile</span><br></pre></td></tr></table></figure></li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/22197/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/31267/"
                            aria-label=": Git tips two"
                        >
                            Git tips two
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-23T18:51:04+08:00">
	
		    Sep 23, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="è½¯ä»¶ç‰ˆæœ¬ï¼š"><a href="#è½¯ä»¶ç‰ˆæœ¬ï¼š" class="headerlink" title="è½¯ä»¶ç‰ˆæœ¬ï¼š"></a>è½¯ä»¶ç‰ˆæœ¬ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git version 2.23.0</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨http-httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š"><a href="#ä½¿ç”¨http-httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š" class="headerlink" title="ä½¿ç”¨http/httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š"></a>ä½¿ç”¨http/httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è®°ä½å¯†ç ï¼ˆé»˜è®¤15åˆ†é’Ÿï¼‰ï¼šgit config --global credential.helper cache</span><br><span class="line">è‡ªå·±å®šä¹‰æ—¶é—´ï¼ˆä¸€å°æ—¶åå¤±æ•ˆï¼‰ï¼šgit config credential.helper &#x27;cache --timeout=3600&#x27;</span><br><span class="line">æ°¸ä¹…å­˜å‚¨å¯†ç ï¼šgit config --global credential.helper store</span><br></pre></td></tr></table></figure>

<h2 id="è¡Œç»“æŸç¬¦å¤„ç†ï¼š"><a href="#è¡Œç»“æŸç¬¦å¤„ç†ï¼š" class="headerlink" title="è¡Œç»“æŸç¬¦å¤„ç†ï¼š"></a>è¡Œç»“æŸç¬¦å¤„ç†ï¼š</h2><table>
<thead>
<tr>
<th>OS</th>
<th align="center">Line Endings</th>
<th align="right">Comments</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td align="center">CRLF</td>
<td align="right">æ¯è¡Œç»“å°¾æ˜¯ &lt;æ¢è¡Œ&gt;&lt;å›è½¦ &gt; ï¼Œå³ \n\r</td>
</tr>
<tr>
<td>Mac OS X</td>
<td align="center">LF</td>
<td align="right">æ¯è¡Œç»“å°¾åªæœ‰ &lt;æ¢è¡Œ&gt; ï¼Œå³ \n</td>
</tr>
<tr>
<td>Unix/Linux</td>
<td align="center">LF</td>
<td align="right">æ¯è¡Œç»“å°¾åªæœ‰ &lt;æ¢è¡Œ&gt; ï¼Œå³ \n</td>
</tr>
<tr>
<td>Classic macOS</td>
<td align="center">CR</td>
<td align="right">æ¯è¡Œç»“å°¾æ˜¯ &lt;å›è½¦&gt;ï¼Œå³ \r</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ’é™¤è€Macç³»ç»Ÿä¸è®¨è®ºï¼Œé¡¹ç›®ç»„å¦‚æœä¸æ˜¯å…¨Windowsç¯å¢ƒå¼€å‘/éƒ¨ç½²çš„è¯ï¼Œè¿˜æ˜¯è¦è‡ªåŠ¨å¤„ç†ä¸‹è¡Œç»“æŸç¬¦ã€‚</span><br><span class="line"></span><br><span class="line"># Windowsç”¨æˆ·æ‰§è¡Œä¸‹é¢é…ç½®å‘½ä»¤ï¼š</span><br><span class="line">$ git config --global core.autocrlf true # åœ¨æäº¤æ—¶è‡ªåŠ¨åœ°æŠŠè¡Œç»“æŸç¬¦CRLFè½¬æ¢æˆLFï¼Œè€Œåœ¨ç­¾å‡ºä»£ç æ—¶æŠŠLFè½¬æ¢æˆCRLF</span><br><span class="line"></span><br><span class="line"># Linux å’Œ Macç”¨æˆ·æ‰§è¡Œä¸‹é¢é…ç½®å‘½ä»¤ï¼šï¼ˆé¢„é˜²ä»£ç åº“å·²ç»æœ‰CRLFç»“æŸç¬¦çš„ä»£ç ï¼‰</span><br><span class="line">$ git config --global core.autocrlf input # åœ¨æäº¤æ—¶æŠŠCRLFè½¬æ¢æˆLFï¼Œç­¾å‡ºæ—¶ä¸è½¬æ¢</span><br><span class="line"></span><br><span class="line"># é»˜è®¤é…ç½®ï¼š</span><br><span class="line">$ git config --global core.autocrlf false # æäº¤å’Œç­¾å‡ºæ—¶éƒ½ä¸å¯¹ä»£ç è¡Œç»“æŸç¬¦åšè½¬æ¢</span><br><span class="line"></span><br></pre></td></tr></table></figure>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/31267/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/1056/"
                            aria-label=": Git å†å²åˆ é™¤æ–‡ä»¶"
                        >
                            Git å†å²åˆ é™¤æ–‡ä»¶
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-07-18T15:23:19+08:00">
	
		    Jul 18, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li>Github: <a target="_blank" rel="noopener" href="https://help.github.com/articles/removing-files-from-a-repository-s-history/">Removing files from a repositoryâ€™s history</a></li>
<li>Github: <a target="_blank" rel="noopener" href="https://help.github.com/articles/removing-sensitive-data-from-a-repository/">Removing sensitive data from a repository
</a></li>
<li>Git-scm: <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-filter-branch">git-filter-branch</a></li>
<li>bfg-repo-cleaner: <a target="_blank" rel="noopener" href="https://rtyley.github.io/bfg-repo-cleaner/">bfg-repo-cleaner</a></li>
</ul>
<hr>
<h1 id="åœºæ™¯1"><a href="#åœºæ™¯1" class="headerlink" title="åœºæ™¯1:"></a>åœºæ™¯1:</h1><p>æœ€æ–°çš„ä¸€ä¸ªæäº¤ç‰ˆæœ¬é‡Œé¢æ–°å¢äº†æ•æ„Ÿã€è¾ƒå¤§ã€æ— æ„ä¹‰çš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œæ¸…ç†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ é™¤æ–‡ä»¶</span><br><span class="line">    $ git rm --cached $&#123;æ–‡ä»¶ç»å¯¹åœ°å€&#125;</span><br><span class="line">2. å¢åŠ åˆ°ä¸Šè¿°æ–‡ä»¶åˆ° .gitignore</span><br><span class="line">    $ vim .gitignore</span><br><span class="line">3. ä¿®å¤æœ€æ–°æäº¤ç‰ˆæœ¬</span><br><span class="line">    $ git commit --amend</span><br><span class="line">4. æ¨é€æ–°ç‰ˆæœ¬åˆ°è¿œç«¯ä»“åº“</span><br><span class="line">    å¦‚æœåˆšæ‰ç‰ˆæœ¬å·²ç»æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼š</span><br><span class="line">        $ git push -f</span><br><span class="line">    å¦‚æœåˆšæ‰ç‰ˆæœ¬åªæ˜¯åœ¨æœ¬åœ°ä»“åº“ï¼š</span><br><span class="line">        $ git push</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="åœºæ™¯2"><a href="#åœºæ™¯2" class="headerlink" title="åœºæ™¯2:"></a>åœºæ™¯2:</h1><p>å†å²ç‰ˆæœ¬é‡Œé¢å­˜åœ¨æ•æ„Ÿã€è¾ƒå¤§ã€æ— æ„ä¹‰çš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œæ¸…ç†ã€‚</p>
<h3 id="ä½¿ç”¨-git-filter-branch"><a href="#ä½¿ç”¨-git-filter-branch" class="headerlink" title="ä½¿ç”¨ git filter-branch"></a>ä½¿ç”¨ git filter-branch</h3><p>git åŸç”Ÿæä¾›çš„å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè¯·å…ˆå‡çº§æœºå™¨gitç‰ˆæœ¬ã€‚</p>
<ul>
<li>åŸç†ï¼š<br>  æ‰«æä»£ç åº“æ‰€æœ‰ç‰ˆæœ¬<pre><code>  å¦‚æœæŸä¸ªç‰ˆæœ¬é‡Œé¢å‘ç°äº†æŒ‡å®šçš„æ–‡ä»¶ORç›®å½•ï¼š
      å¦‚æœæ­¤ç‰ˆæœ¬åŒ…å«è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½• å’Œ å…¶å®ƒå˜æ›´çš„è¯ï¼Œå¯¹æ­¤ç‰ˆæœ¬è¿›è¡Œåˆ é™¤æŒ‡å®šæ–‡ä»¶ORç›®å½•ï¼ˆä¿ç•™å…¶å®ƒå˜æ›´ï¼‰ï¼Œå¹¶ç”Ÿæˆæ–°çš„ç‰ˆæœ¬ã€‚åŒæ—¶åé¢çš„ç‰ˆæœ¬ä¼šå˜åŸºåˆ°æ–°ç‰ˆæœ¬ã€‚
      å¦‚æœæ­¤ç‰ˆæœ¬åªåŒ…å«è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½•å˜æ›´çš„è¯ï¼Œé‚£ä¹ˆæ­¤ç‰ˆæœ¬ä¼šè¢«æ¸…é™¤ã€‚åŒæ—¶åé¢çš„ç‰ˆæœ¬ä¼šå˜åŸºåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚
  å¦‚æœç‰ˆæœ¬æ²¡æœ‰åŒ…å«æŒ‡å®šæ–‡ä»¶ORç›®å½•ï¼Œé‚£ä¹ˆç»§ç»­éå†ã€‚
</code></pre>
</li>
<li>PSï¼š<ol>
<li>å¦‚æœä»£ç åº“å†å²æ¯”è¾ƒå¤š OR æ¶‰åŠåˆ°æŒ‡å®šæ–‡ä»¶ORç›®å½•çš„ç‰ˆæœ¬æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå‘½ä»¤æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ã€‚</li>
<li>ä¸€èˆ¬ä¼šå¯¼è‡´ä»£ç åº“ç‰ˆæœ¬æ ‘å˜åŒ–ï¼Œå¯¹äºæ¶‰åŠå¼€å‘åŒå­¦ï¼Œå»ºè®®å¼€å§‹å‰æäº¤æœ¬åœ°ä¿®æ”¹å˜æ›´åˆ°è¿œç«¯ä»“åº“ï¼Œå®Œæˆåæœ¬æœºé‡æ–°cloneä»£ç åº“è¿›è¡Œå¼€å‘ã€‚</li>
<li>ä¸€èˆ¬éƒ½åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•æ‰§è¡Œ</li>
<li>æ‰§è¡Œå‘½ä»¤åå†å²ç‰ˆæœ¬é‡Œé¢å·²ç»æ¸…ç†äº†æ–‡ä»¶, ä½†æ˜¯æˆ‘ä»¬çš„æœ¬åœ°ä»“åº“é‡Œé¢ä»ç„¶ä¿ç•™äº†è¿™äº›objects, ç­‰å¾…åƒåœ¾å›æ”¶(GC), å¦‚æœæƒ³ç«‹å³å›æ”¶æœ¬åœ°ä»“åº“ç©ºé—´å¯ä»¥æ‰§è¡Œ git gc â€“prune=now.</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. æ‰§è¡Œå‘½ä»¤</span><br><span class="line">    $ git filter-branch --force --index-filter &#x27;git rm --cached -r --ignore-unmatch $&#123;è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½•çš„ç»å¯¹åœ°å€&#125;&#x27; --prune-empty --tag-name-filter cat -- --all</span><br><span class="line">2. å¢åŠ åˆ°ä¸Šè¿°æ–‡ä»¶ORç›®å½•åˆ° .gitignore</span><br><span class="line">    $ vim .gitignore</span><br><span class="line">3. æ¨é€æ–°ç‰ˆæœ¬åˆ°è¿œç«¯ä»“åº“</span><br><span class="line">    $ git push -f --all</span><br><span class="line">    $ git push -f --tags</span><br><span class="line">4. æ¸…ç†æœ¬åœ°ä»“åº“æ®‹ç•™çš„git objects</span><br><span class="line">    $ git reflog expire --expire=now --all</span><br><span class="line">    $ git gc --prune=now</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨-bfg-repo-cleaner"><a href="#ä½¿ç”¨-bfg-repo-cleaner" class="headerlink" title="ä½¿ç”¨ bfg-repo-cleaner"></a>ä½¿ç”¨ bfg-repo-cleaner</h3><p>Roberto Tyleyä½¿ç”¨Scalaè¯­è¨€å†™äº† bfg-repo-cleanerå·¥å…·ã€‚<br>å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„ git filter-branchã€‚<br>ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œåªéœ€è¦ä¸‹è½½æœ€æ–°çš„jaråŒ…ï¼Œç„¶åæ‰§è¡ŒğŸ‘‡å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤å¤§äº50Mçš„æ–‡ä»¶</span><br><span class="line">$ java -jar bfg.jar --no-blob-protection --strip-blobs-bigger-than 50M</span><br><span class="line"># åˆ é™¤æŒ‡å®šæ–‡ä»¶</span><br><span class="line">$ java -jar bfg.jar --no-blob-protection --delete-files $&#123;è¦æ¸…ç†çš„æ–‡ä»¶çš„ç»å¯¹åœ°å€&#125;</span><br></pre></td></tr></table></figure>
<p>PS:<br>    1. bfg-repo-cleaner æœ‰ä¸ªprotectåŠŸèƒ½ï¼Œé»˜è®¤HEADæ˜¯å—ä¿æŠ¤çš„ã€‚<br>        å—ä¿æŠ¤çš„åˆ†æ”¯æœ€æ–°ç‰ˆæœ¬å¦‚æœæ¶‰åŠéœ€è¦æ¸…ç†æ–‡ä»¶ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šæˆåŠŸã€‚<br>        â€“no-blob-protection  å…³é—­protectåŠŸèƒ½<br>        â€“protect-blobs-from ${åˆ†æ”¯1},${åˆ†æ”¯2} å¢åŠ å—ä¿æŠ¤çš„åˆ†æ”¯<br>    2. å»ºè®®åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•æ‰§è¡Œã€‚</p>
<hr>
<h1 id="åœºæ™¯3"><a href="#åœºæ™¯3" class="headerlink" title="åœºæ™¯3:"></a>åœºæ™¯3:</h1><p>æŸ¥æ‰¾ä»£ç åº“é‡Œé¢è¾ƒå¤§æ–‡ä»¶æ–¹æ³•ï¼š<br>    - å¦‚æœå½“å‰ç‰ˆæœ¬è¿˜å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥duæ’åºæ¥è¯†åˆ«ï¼›<br>    - å¦‚æœå½“å‰ç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œä½†æ˜¯å†å²ä¸­å‡ºç°è¿‡çš„å¤§æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ¥æŸ¥è¯¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. æ˜¾ç¤ºæ¯”è¾ƒå¤§çš„pack</span><br><span class="line">$ du -ah .git/objects/pack</span><br></pre></td></tr></table></figure>
<p><img src="/posts/1056/git1.png" alt="logo"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2. è¯†åˆ«object,å¯¹è¾“å‡ºçš„ç¬¬ä¸‰åˆ—ä¿¡æ¯å³æ–‡ä»¶å¤§å°è¿›è¡Œæ’åº</span><br><span class="line">$ git verify-pack -v .git/objects/pack/$&#123;pack-XXX.pack&#125; | sort -k 3 -n | tail -5</span><br></pre></td></tr></table></figure>
<p><img src="/posts/1056/git2.png" alt="logo"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3. è¯†åˆ«objectå¯¹åº”çš„æ–‡ä»¶</span><br><span class="line">$ git rev-list --objects --all | grep $&#123;ğŸ‘†è·å–çš„object&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/posts/1056/git3.png" alt="logo"></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/1056/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/62558/"
                            aria-label=": svnä»£ç åº“è¿ç§»åˆ°git"
                        >
                            svnä»£ç åº“è¿ç§»åˆ°git
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-03-07T10:30:04+08:00">
	
		    Mar 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å…¬å¸ä¸»è¦ä½¿ç”¨gitä½œä¸ºä»£ç ç®¡ç†ä»“åº“ï¼Œç°éœ€è¦æŠŠéƒ¨åˆ†ä½¿ç”¨svnç®¡ç†çš„ä»£ç è¿ç§»åˆ°gitã€‚</p>
<h3 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h3><p>éœ€è¦ä¿ç•™æ‰€æœ‰ branchesã€ä¸»å¹²ã€tagsçš„å†å²è®°å½•ã€‚</p>
<h1 id="è¿ç§»æ–¹æ³•ï¼š"><a href="#è¿ç§»æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»æ–¹æ³•ï¼š"></a>è¿ç§»æ–¹æ³•ï¼š</h1><p>ä½¿ç”¨gitå®˜æ–¹æä¾›çš„git svnå‘½ä»¤</p>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-svn">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<h3 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h3><ul>
<li>OS: macOS 10.13.3</li>
<li>SVNï¼š1.9.4</li>
<li>GITï¼š2.16.2</li>
</ul>
<h1 id="è¿ç§»æ­¥éª¤ï¼š"><a href="#è¿ç§»æ­¥éª¤ï¼š" class="headerlink" title="è¿ç§»æ­¥éª¤ï¼š"></a>è¿ç§»æ­¥éª¤ï¼š</h1><ol>
<li>è·å–æŒ‡å®šsvnä»£ç åº“æ¶‰åŠçš„å¼€å‘åŒå­¦åå•å¹¶è½¬æ¢ï¼š<pre><code> svn log $SVN_URL --xml | grep author | sort -u | perl -pe &#39;s/.*&gt;(.*?)&lt;.*/$1 = /&#39; &gt; user.txt
</code></pre>
user.txtå†…å®¹å¦‚ä¸‹ï¼š<pre><code> dev1_name =
 dev2_name =
</code></pre>
å› ä¸ºsvnåªæœ‰ç”¨æˆ·åï¼Œè€Œgitéœ€è¦æä¾›ç”¨æˆ·åå’Œé‚®ç®±ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸‹ç”¨æˆ·è½¬æ¢ã€‚<pre><code> ä¿®æ”¹ä¸Šè¿°å‘½ä»¤å¾—åˆ°çš„user.txtå¦‚ä¸‹ï¼š
 dev1_name = dev1_name&lt;dev1_email&gt;
 dev2_name = dev2_name&lt;dev2_email&gt;
</code></pre>
</li>
<li>ä½¿ç”¨git svn clonedä»£ç åº“åˆ°æœ¬åœ°ï¼š<pre><code> git svn clone $SVN_URL --no-metadata --authors-file=user.txt -s
</code></pre>
</li>
<li>è°ƒæ•´æœ¬åœ°åº“ç›®å½•ç»“æ„ï¼š<pre><code> cd $project_dir
 mv .git/refs/remotes/origin/tags/$tags_name .git/refs/tags/
 mv .git/refs/remotes/origin/$branches_name .git/refs/heads/
 rm -rf .git/refs/remotes/origin
</code></pre>
</li>
<li>ä¸Šä¼ æœ¬åœ°åº“åˆ°remoteä»“åº“ï¼š<pre><code> git remote add origin $GIT_URL
 git push origin --all
 git push origin --tags
</code></pre>
</li>
</ol>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS:"></a>PS:</h3><ol>
<li>å¦‚æœsvnå†å²è®°å½•å¤ªå¤šï¼Œè€Œä¸”å¹¶ä¸éœ€è¦å¾ˆä¹…ä¹‹å‰çš„ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä»æŒ‡å®šç‰ˆæœ¬è¿›è¡Œè½¬æ¢ã€‚<pre><code> git svn clone $SVN_URL -r $æŒ‡å®šç‰ˆæœ¬:HEAD
</code></pre>
</li>
<li>è¾ƒæ–°ç‰ˆæœ¬çš„gitéƒ½åŸç”Ÿå¸¦äº† git svnå‘½ä»¤ï¼Œå¦‚æœä½ ä½¿ç”¨çš„gitç‰ˆæœ¬æ²¡æœ‰æ­¤å‘½ä»¤ï¼Œå»ºè®®å‡çº§æ–°ç‰ˆgitæˆ–è€…å•ç‹¬å®‰è£…git-svnå‘½ä»¤ã€‚</li>
<li>git cloneå‘½ä»¤æ‰§è¡Œæ—¶é—´ä¸»è¦å’Œ åŸSVNåº“å¤§å°ã€logå¤šå°‘æœ‰å…³ã€‚</li>
<li>svnè¿ç§»gitåéœ€è¦æ³¨æ„gitä¸æ”¯æŒç©ºç›®å½•ï¼Œéœ€è¦ä½¿ç”¨åœ¨ç©ºç›®å½•å¢åŠ éšè—æ–‡ä»¶æ¥ä¸Šä¼ ï¼Œé€šå¸¸ä½¿ç”¨.gitkeepæ–‡ä»¶ã€‚</li>
<li>å¦‚æœåŸSVNåº“ç»“æ„ä¸æ˜¯è§„èŒƒçš„branchesã€tagsã€trunkç»“æ„<pre><code> git svn clone $SVN_URL --branches=&lt;branches_subdir&gt; --tags=&lt;tags_subdir&gt; --trunk=&lt;trunk_subdir&gt;
 å¦‚æœæ²¡æœ‰tagsçš„è¯--tagså¯ä»¥ä¸å†™ï¼ŒbranchesåŒç†ï¼›subdirå†™ç›¸å¯¹è·¯å¾„å³å¯
</code></pre>
 ä¸Šé¢ä½¿ç”¨çš„-så‚æ•°è¡¨ç¤ºçš„æ˜¯â€“stdlayouté€‚åˆæ ‡å‡†ç»“æ„çš„SVNé¡¹ç›®ã€‚</li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/62558/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/52695/"
                            aria-label=": åˆ†æ”¯ç­–ç•¥"
                        >
                            åˆ†æ”¯ç­–ç•¥
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-04-25T19:37:40+08:00">
	
		    Apr 25, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><blockquote>
<p>ä¸ºäº†æ›´å¥½çš„æ”¯æŒäº§å“ç ”å‘è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ç¬¦åˆå…¬å¸ç ”å‘çš„åˆ†æ”¯ç­–ç•¥ã€‚<br>æ— è®ºå¤šå¤æ‚æˆ–è€…ç®€å•çš„ç­–ç•¥éƒ½å¯ä»¥å½’ç±»ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š</p>
<blockquote>
<p>1.ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯å‘å¸ƒ<br>2.åˆ†æ”¯å¼€å‘ï¼Œä¸»å¹²å‘å¸ƒ</p>
</blockquote>
</blockquote>
<blockquote>
<p>PSï¼šæˆ‘ä»¬çº¦å®šï¼š</p>
<blockquote>
<p>ä¸»å¹²ï¼ˆmaster/git  trunk/svnï¼‰<br>    åˆ†æ”¯ï¼ˆbranchï¼‰<br>    æ ‡ç­¾ï¼ˆtagï¼‰<br>å¦‚æœä»ç‰ˆæœ¬æ§åˆ¶å·¥å…·å®ç°ä¸Šæ¥çœ‹ï¼š<br>        svnï¼š trunkã€branchã€tag æ²¡æœ‰å·®åˆ«<br>        gitï¼š masterã€branchã€è½»é‡çº§tag æ²¡æœ‰å·®åˆ«<br>        ä¸ºäº†æ›´å¥½çš„åŒºåˆ†å’Œç®¡ç†ï¼Œäººä¸ºçš„ä»é€»è¾‘ä¸Šè¿›è¡ŒåŒºåˆ†<br>        tagçš„ä½œç”¨ï¼šé‡Œç¨‹ç¢‘è®°å½•ï¼Œæ–¹ä¾¿å›æº¯ï¼ˆå‘å¸ƒå›æ»šç­‰ï¼‰</p>
</blockquote>
</blockquote>
<h1 id="ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯å‘å¸ƒï¼š"><a href="#ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯å‘å¸ƒï¼š" class="headerlink" title="ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯å‘å¸ƒï¼š"></a>ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯å‘å¸ƒï¼š</h1><p><img src="/posts/52695/zhugan.png" alt="logo"></p>
<ul>
<li>ä¼˜ç‚¹ï¼š<ol>
<li>è¾ƒå°‘çš„åˆ†æ”¯å­˜åœ¨ï¼Œå¤§å®¶ä¸“æ³¨åœ¨ä¸»å¹²å¼€å‘</li>
</ol>
</li>
<li>é€‚ç”¨äºï¼š<ol>
<li>æ•æ·å¼€å‘æ¨¡å¼ï¼Œæ¯ä¸ªè¿­ä»£éƒ½å¾ˆå¿«</li>
<li>ç»´æŠ¤å‹é¡¹ç›®ï¼Œè¾ƒå°‘éœ€æ±‚å˜æ›´ï¼ŒåŸºæœ¬æ²¡æœ‰å¹¶è¡Œå¼€å‘çš„éœ€è¦</li>
<li>ä¸ªäººé¡¹ç›®</li>
</ol>
</li>
<li>å¸¸ç”¨æ–¹å¼ï¼š<ol>
<li>æ‰€æœ‰devåœ¨ä¸»å¹²ä¸Šé¢è¿›è¡Œå¼€å‘</li>
<li>éœ€è¦å‘å¸ƒçš„æ—¶å€™ä»æŒ‡å®šç‰ˆæœ¬æ‹‰å‡ºå‘å¸ƒåˆ†æ”¯ï¼Œè¿›è¡Œæµ‹è¯•<ul>
<li>å¦‚æœæˆåŠŸï¼šé‚£ä¹ˆæ‰“å‡ºtagï¼Œè¿›è¡Œå‘å¸ƒ</li>
<li>å¦‚æœä¸æˆåŠŸï¼šé‚£ä¹ˆç»§ç»­åœ¨å‘å¸ƒåˆ†æ”¯ä¸Šé¢è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæµ‹è¯•ï¼›<br>  æµ‹è¯•æˆåŠŸåï¼Œæ‰“tagï¼Œåˆå¹¶å‘å¸ƒåˆ†æ”¯ä¿®æ”¹åˆ°ä¸»å¹²ï¼›</li>
</ul>
</li>
</ol>
</li>
</ul>
<h1 id="åˆ†æ”¯å¼€å‘ï¼Œä¸»å¹²å‘å¸ƒï¼š"><a href="#åˆ†æ”¯å¼€å‘ï¼Œä¸»å¹²å‘å¸ƒï¼š" class="headerlink" title="åˆ†æ”¯å¼€å‘ï¼Œä¸»å¹²å‘å¸ƒï¼š"></a>åˆ†æ”¯å¼€å‘ï¼Œä¸»å¹²å‘å¸ƒï¼š</h1><p><img src="/posts/52695/fenzhi.png" alt="logo"></p>
<ul>
<li>ä¼˜ç‚¹ï¼š<ol>
<li>å¯¹å¹¶è¡Œå¼€å‘æ”¯æŒå¾ˆå¥½</li>
</ol>
</li>
<li>é€‚ç”¨äºï¼š<ol>
<li>å¹¶è¡Œå¼€å‘å¾ˆé¢‘ç¹çš„é¡¹ç›®</li>
</ol>
</li>
<li>å¸¸ç”¨æ–¹å¼ï¼š<ol>
<li>æ ¹æ®é¡¹ç›®å‘å¸ƒæ’æœŸæ‹‰å‡ºå¹¶è¡Œå¼€å‘åˆ†æ”¯</li>
<li>ä¸åŒorç›¸åŒçš„devåˆ†åˆ«åœ¨åˆ†æ”¯ä¸Šé¢è¿›è¡Œå¼€å‘</li>
<li>æµ‹è¯•é€šè¿‡åï¼Œæ‰“tagè¿›è¡Œå‘å¸ƒï¼Œåˆå¹¶åˆ†æ”¯ä¿®æ”¹åˆ°ä¸»å¹²</li>
<li>åå‘å¸ƒçš„åˆ†æ”¯éœ€è¦åˆå¹¶æœ€æ–°çš„ä¸»å¹²ä»£ç </li>
</ol>
</li>
<li>æ³¨æ„ç‚¹ï¼š<ol>
<li>æ‰€æœ‰åˆ†æ”¯éƒ½ä»ä¸»å¹²æ‹‰å‡ºï¼›</li>
<li>å‘å¸ƒæ—¶å€™è¦æ£€æŸ¥ tagæ˜¯å¦åŒ…å«æœ€æ–°çš„ä¸»å¹²ä»£ç ï¼›</li>
<li>åå‘å¸ƒçš„åˆ†æ”¯åœ¨åˆå¹¶æœ€æ–°ä¸»å¹²ä»£ç åï¼Œæ³¨æ„æµ‹è¯•èŒƒå›´æ‰©å¤§ï¼ˆé™¤äº†æµ‹è¯•æœ¬åˆ†æ”¯åŠŸèƒ½å¤–ï¼Œåˆå¹¶è¿‡æ¥çš„åŠŸèƒ½ä¹Ÿéœ€è¦è¦†ç›–åˆ°ï¼ï¼ï¼ï¼‰</li>
</ol>
</li>
</ul>
<h1 id="PSï¼š"><a href="#PSï¼š" class="headerlink" title="PSï¼š"></a>PSï¼š</h1><p>æœ¬æ–‡åªæ˜¯ç®€å•ä»‹ç»ä¸‹åŸºç¡€çš„åˆ†æ”¯ç­–ç•¥ï¼Œå„ä½éœ€æ ¹æ®è‡ªèº«å›¢é˜Ÿã€ä¸šåŠ¡æ¥ç»¼åˆå®šåˆ¶é€‚åˆçš„åˆ†æ”¯ç­–ç•¥ã€‚</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/52695/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/60120/"
                            aria-label=": Git tips one"
                        >
                            Git tips one
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-03-31T14:40:12+08:00">
	
		    Mar 31, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="è½¯ä»¶ç‰ˆæœ¬ï¼š"><a href="#è½¯ä»¶ç‰ˆæœ¬ï¼š" class="headerlink" title="è½¯ä»¶ç‰ˆæœ¬ï¼š"></a>è½¯ä»¶ç‰ˆæœ¬ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git version 2.10.1</span><br></pre></td></tr></table></figure>

<h1 id="Gitå…‹éš†å•ä¸ªåˆ†æ”¯ï¼š"><a href="#Gitå…‹éš†å•ä¸ªåˆ†æ”¯ï¼š" class="headerlink" title="Gitå…‹éš†å•ä¸ªåˆ†æ”¯ï¼š"></a>Gitå…‹éš†å•ä¸ªåˆ†æ”¯ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git clone åœ°å€ â€”branch br1 â€”single-branch dir</span><br><span class="line">        åªèƒ½çœ‹åˆ°å•ç‹¬çš„br1ï¼Œä¸èƒ½checkoutåˆ°å…¶ä»–åˆ†æ”¯ã€‚ç©ºé—´å ç”¨æ¯”è¾ƒå°ï¼Œé€‚åˆé•¿æœŸåˆ†æ”¯å¼€å‘ã€‚</span><br><span class="line">åŸç†ï¼š</span><br><span class="line">$ git remote -v</span><br><span class="line">        remote.origin.fetch=+refs/heads/br1:refs/remotes/origin/br1</span><br><span class="line">æ¢å¤å®Œæ•´ä»£ç åº“ï¼š</span><br><span class="line">$ git config remote.origin.fetch &quot;+refs/heads/*:refs/remotes/origin/*&quot;</span><br><span class="line">    ç„¶åæ‰§è¡Œ</span><br><span class="line">    $ git pull</span><br></pre></td></tr></table></figure>

<h1 id="Gitå¯¹-gitignoreæ–‡ä»¶å¤„ç†ï¼š"><a href="#Gitå¯¹-gitignoreæ–‡ä»¶å¤„ç†ï¼š" class="headerlink" title="Gitå¯¹.gitignoreæ–‡ä»¶å¤„ç†ï¼š"></a>Gitå¯¹.gitignoreæ–‡ä»¶å¤„ç†ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å·²ç»å¢åŠ åˆ°.gitignoreæ–‡ä»¶é‡Œé¢çš„ç›®å½•oræ–‡ä»¶ä¼šè¢«gitå¿½ç•¥ã€‚</span><br><span class="line">å¦‚æœæœ¬æ¬¡éœ€è¦ä¿®æ”¹ä¸€ä¸ªå¿½ç•¥æ–‡ä»¶ï¼š</span><br><span class="line">$ git status --ignored</span><br><span class="line">            --ignored   -- show ignored files as well</span><br><span class="line">$ git add -f</span><br><span class="line">            --force   -f   -- allow adding otherwise ignored files</span><br></pre></td></tr></table></figure>


<h1 id="Git-commitç›¸å…³ï¼š"><a href="#Git-commitç›¸å…³ï¼š" class="headerlink" title="Git commitç›¸å…³ï¼š"></a>Git commitç›¸å…³ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># ç©ºæäº¤,åªåœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨ï¼ˆäº§ç”Ÿä¸€ä¸ªæ–°çš„commitç‚¹ï¼‰</span><br><span class="line">$ git commit</span><br><span class="line">    On branch master</span><br><span class="line">    Your branch is up-to-date with &#x27;origin/master&#x27;.</span><br><span class="line">    nothing to commit, working tree clean</span><br><span class="line"># è§£å†³æ–¹æ³•</span><br><span class="line">$ git commit -m &quot;empty commit&quot; --allow-empty</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ä¸å¸¦messageæäº¤ï¼ˆæ…ç”¨,messageå¾ˆé‡è¦ï¼‰</span><br><span class="line">$ git commit</span><br><span class="line">    Aborting commit due to empty commit message.</span><br><span class="line"># è§£å†³æ–¹æ³•</span><br><span class="line">$ git commit --allow-empty-message</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æŠŠæš‚å­˜åŒºçš„å˜æ›´åˆå¹¶åˆ°æœ€æ–°çš„ç‰ˆæœ¬é‡Œé¢ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„ç‰ˆæœ¬(åŒæ—¶å¯ä»¥æ›´æ–°log message)ï¼›</span><br><span class="line">$ git commit --amend</span><br><span class="line">PSï¼šå·²ç»è¿›è¿œç«¯ä»£ç åº“çš„ç‰ˆæœ¬ä¸å…è®¸ä½¿ç”¨--amendè¿›è¡Œä¿®æ”¹!!!</span><br></pre></td></tr></table></figure>

<h2 id="Git-mergeç›¸å…³ï¼š"><a href="#Git-mergeç›¸å…³ï¼š" class="headerlink" title="Git mergeç›¸å…³ï¼š"></a>Git mergeç›¸å…³ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">conflictå¤„ç†ï¼š</span><br><span class="line"># ä½¿ç”¨è‡ªå·±/ä»–äººçš„æ–‡ä»¶æ›¿æ¢å†²çªæ–‡ä»¶</span><br><span class="line">$ git checkout --ours conflict.file</span><br><span class="line">$ git checkout --theirs conflict.file</span><br><span class="line"># å¢åŠ å†²çªæ–‡ä»¶åˆ°ç‰ˆæœ¬åº“</span><br><span class="line">$ git add conflict.file</span><br><span class="line">$ git commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹merge commitç‚¹å·²ç»è§£å†³çš„å†²çªæ–‡ä»¶ï¼š</span><br><span class="line">$ git log --cc</span><br><span class="line">        --cc    -- combined diff format for merge commits</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åˆ†æ”¯ç›´æ¥åˆå¹¶å»ºè®®ä½¿ç”¨ï¼šgit merge</span><br><span class="line">åŒä¸€åˆ†æ”¯devåˆå¹¶ or Tempåˆ†æ”¯åˆå¹¶å»ºè®®ä½¿ç”¨ï¼šgit rebase æˆ–è€… git cherry-pick</span><br><span class="line">    PSï¼šä»¥ä¸Šä¸¤ç§éƒ½å¯ä»¥åˆå¹¶ä»£ç workspaceæœ€ç»ˆæ–‡ä»¶ä¸€æ ·ï¼Œä½†æ˜¯å¯¹gitæ¥è¯´æœ‰ä¸åŒï¼šmergeæ˜¯ç¯å½¢ï¼Œrebaseå’Œcherry-pickæ˜¯ç›´çº¿</span><br><span class="line">    PSï¼šéœ€è¦æ³¨æ„çš„æ˜¯rebaseä¼šæ˜¯è‡ªå·±å’Œä»–äººè§’è‰²å‘ç”Ÿåè½¬ï¼Œè§£å†³conflict fileçš„æ—¶å€™éœ€è¦ç•™å¿ƒã€‚</span><br></pre></td></tr></table></figure>

<h2 id="Git-rmç›¸å…³ï¼š"><a href="#Git-rmç›¸å…³ï¼š" class="headerlink" title="Git rmç›¸å…³ï¼š"></a>Git rmç›¸å…³ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git rm weilong.txt</span><br><span class="line">åˆ é™¤workspaceå’Œindexé‡Œé¢çš„weilong.txtæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">$ git rm --cached weilong.txt</span><br><span class="line">åˆ é™¤indexé‡Œé¢çš„weilong.txtæ–‡ä»¶ï¼Œworkspaceé‡Œé¢çš„æ–‡ä»¶ä¿ç•™</span><br></pre></td></tr></table></figure>

<h2 id="Git-logç›¸å…³ï¼š"><a href="#Git-logç›¸å…³ï¼š" class="headerlink" title="Git logç›¸å…³ï¼š"></a>Git logç›¸å…³ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git log -5</span><br><span class="line">æŸ¥çœ‹æœ€æ–°çš„5æ¬¡ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">$ git log --author=weilong.wang</span><br><span class="line">æŸ¥çœ‹weilong.wangæäº¤çš„ç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">$ git log --oneline</span><br><span class="line">ä¸€è¡Œæ˜¾ç¤ºä¸€ä¸ªç‰ˆæœ¬ä¿¡æ¯ï¼ˆç®€åŒ–æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼‰</span><br><span class="line"></span><br><span class="line">$ git log -p</span><br><span class="line">æ˜¾ç¤ºæ¯ä¸ªç‰ˆæœ¬çš„å…·ä½“ä¿®æ”¹</span><br><span class="line"></span><br><span class="line">$ git log --numstat</span><br><span class="line">æ˜¾ç¤ºæ¯ä¸ªç‰ˆæœ¬ ä¿®æ”¹æ–‡ä»¶çš„è¡Œæ•°ï¼ˆ5       1       weilong.txt    è¿™ä¸ªæ–‡ä»¶æœ¬æ¬¡å¢åŠ äº†5è¡ŒåŒæ—¶ä¹Ÿåˆ é™¤äº†1è¡Œï¼‰</span><br><span class="line"></span><br><span class="line">$ git log --since=&quot;1 month ago&quot;</span><br><span class="line">æ˜¾ç¤ºæœ€è¿‘ä¸€ä¸ªæœˆçš„æ—¥å¿—</span><br><span class="line">$ git log --after=&quot;2016-07-01&quot;</span><br><span class="line">æ˜¾ç¤º7æœˆ1å·è‡³ä»Šçš„æ—¥å¿—</span><br><span class="line">$ git log --before=&quot;2 days&quot;</span><br><span class="line">æ˜¾ç¤º2å¤©ä¹‹å‰çš„æ—¥å¿—</span><br><span class="line">$ git log --until=&quot;2016-07-10T14:30&quot;</span><br><span class="line">æ˜¾ç¤º7æœˆ10å·14ï¼š30ä¹‹å‰çš„æ—¥å¿—</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ git log --graph</span><br><span class="line">å›¾çŠ¶æ˜¾ç¤ºç‰ˆæœ¬ ï¼ˆæ­£å¸¸æäº¤æ—¶çº¿å½¢çš„ï¼Œmergeæ˜¯ç¯å½¢çš„ï¼‰</span><br><span class="line"></span><br><span class="line">å¯ç”¨äºåˆ¤æ–­åˆ†æ”¯æ˜¯å¦åˆå¹¶ï¼š</span><br><span class="line">$ git log br1 ^master</span><br><span class="line">æ˜¾ç¤ºåªåœ¨åˆ†æ”¯br1ä¸åœ¨masterä¸Šçš„commitç‚¹</span><br><span class="line">$ git log master ^br1</span><br><span class="line">æ˜¾ç¤ºåªåœ¨åˆ†æ”¯masterä¸åœ¨br1åˆ†æ”¯ä¸Šçš„commitç‚¹</span><br></pre></td></tr></table></figure>

<p><img src="/posts/60120/Git-Cheat-Sheet.png" alt="logo"></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/60120/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 Weilong. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Weilong</h4>
        
            <div id="about-card-bio"> <ul> Write something about work and life: <ul class="nav pull-left"> <li align="left">Project management</li> <li align="left">Configuration management</li> <li align="left">Process improvement</li> <li align="left">Continuous deploy</li> <li align="left">Python program</li> </ul>
</ul> </div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>PM</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Shenzhen
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
