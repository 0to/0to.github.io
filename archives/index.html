
<!DOCTYPE html>
<html lang="en,zh-cn,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Just Do IT">
    <title>Archives - Just Do IT</title>
    <meta name="author" content="Weilong">
    
    
        <link rel="icon" href="https://0to.github.io/assets/images/owl.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥ã€‚">
<meta property="og:type" content="blog">
<meta property="og:title" content="Just Do IT">
<meta property="og:url" content="https://0to.github.io/archives/index.html">
<meta property="og:site_name" content="Just Do IT">
<meta property="og:description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥ã€‚">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Just Do IT">
<meta name="twitter:description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥ã€‚">
    
    
        
    
    
        <meta property="og:image" content="https://0to.github.io/assets/images/owl.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/all.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85893233-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-85893233-1');
    </script>


    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?c9c4d3aced97237b37b08c97b10e7d3e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ "
            aria-label=""
        >
            Just Do IT
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Weilong</h4>
                
                    <h5 class="sidebar-profile-bio"> <ul> Write something about work and life: <ul class="nav pull-left"> <li align="left">Project management</li> <li align="left">Configuration management</li> <li align="left">Process improvement</li> <li align="left">Continuous deploy</li> <li align="left">Python program</li> </ul><br></ul> </h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Search"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/0to" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://cn.linkedin.com/in/é¾™-å¨-73303298" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:326688025@qq.com" target="_blank" rel="noopener" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/9613/"
                            aria-label=": ä½¿ç”¨SHA256ä»£æ›¿MD5è¿›è¡Œæ–‡ä»¶æ ¡éªŒ"
                        >
                            ä½¿ç”¨SHA256ä»£æ›¿MD5è¿›è¡Œæ–‡ä»¶æ ¡éªŒ
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-03-09T21:25:45+08:00">
	
		    Mar 09, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SYS/">SYS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ç¬¬ä¸‰æ–¹å®¢æˆ·å®¡å‚è¿‡ç¨‹ä¸­ï¼Œå¯¹å…¬å¸ç°æœ‰æµç¨‹ç®¡ç†æ–¹æ³•å·¥å…·æœ‰äº›æ”¹è¿›å»ºè®®ã€‚<br>å…¶ä¸­æœ‰ä¸€æ¡æ˜¯ï¼šè½¯ä»¶æ˜ åƒæ–‡ä»¶çš„å®Œæ•´æ€§æ£€éªŒä¸ºMD5å€¼ï¼Œæ ¡éªŒç å’Œè½¯ä»¶åŒ…ä¸€èµ·å‘å¸ƒï¼Œå»ºè®®é‡‡ç”¨å…¶å®ƒå®‰å…¨æ€§æ›´å¥½çš„æ ¡éªŒç®—æ³•ã€‚</p>
<h1 id="æ–¹æ¡ˆè°ƒç ”"><a href="#æ–¹æ¡ˆè°ƒç ”" class="headerlink" title="æ–¹æ¡ˆè°ƒç ”"></a>æ–¹æ¡ˆè°ƒç ”</h1><h4 id="å‚è€ƒé“¾æ¥ï¼š-ä¸ºä»€ä¹ˆMD5ä¸èƒ½ç”¨äºå­˜å‚¨å¯†ç "><a href="#å‚è€ƒé“¾æ¥ï¼š-ä¸ºä»€ä¹ˆMD5ä¸èƒ½ç”¨äºå­˜å‚¨å¯†ç " class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š ä¸ºä»€ä¹ˆMD5ä¸èƒ½ç”¨äºå­˜å‚¨å¯†ç "></a>å‚è€ƒé“¾æ¥ï¼š <a href="https://draveness.me/whys-the-design-password-with-md5" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆMD5ä¸èƒ½ç”¨äºå­˜å‚¨å¯†ç </a></h4><p>MD5 æ˜¯ä¸€ç§æ‘˜è¦ç®—æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å«å®ƒå“ˆå¸Œå‡½æ•°ï¼Œå“ˆå¸Œå‡½æ•°å¯ä»¥å°†æ— é™é”®å€¼ç©ºé—´ä¸­çš„æ‰€æœ‰é”®éƒ½å‡åŒ€åœ°æ˜ å°„åˆ°ä¸€ä¸ªæŒ‡å®šå¤§å°çš„é”®å€¼ç©ºé—´ä¸­ã€‚ä¸€ä¸ªå¥½çš„æ‘˜è¦ç®—æ³•èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä¿è¯æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œé¿å…æ”»å‡»è€…çš„æ¶æ„ç¯¡æ”¹ã€‚<br>ä½œä¸ºä¸€ä¸ª 1992 å¹´ç¬¬ä¸€æ¬¡è¢«å…¬å¼€çš„ç®—æ³•ï¼Œåˆ°ä»Šå¤©ä¸ºæ­¢å·²ç»è¢«å‘ç°äº†ä¸€äº›è‡´å‘½çš„æ¼æ´ã€‚åœ¨ä»»ä½•åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥é¿å…MD5çš„ä½¿ç”¨ï¼Œå¯ä»¥é€‰æ‹©æ›´å¥½çš„æ‘˜è¦ç®—æ³•æ›¿ä»£ MD5ï¼Œä¾‹å¦‚ SHA256ã€SHA512ã€‚</p>
<h1 id="æ”¹è¿›æ–¹æ¡ˆ"><a href="#æ”¹è¿›æ–¹æ¡ˆ" class="headerlink" title="æ”¹è¿›æ–¹æ¡ˆ"></a>æ”¹è¿›æ–¹æ¡ˆ</h1><ul>
<li>ä¿ç•™ç°æœ‰çš„md5æ ¡éªŒæ–‡ä»¶ï¼ˆéƒ¨åˆ†å®¢æˆ·è¿˜åœ¨ä½¿ç”¨ï¼‰</li>
<li>åŒæ—¶å¢åŠ SHA256æ ¡éªŒæ–‡ä»¶</li>
</ul>
<h1 id="åŸºç¡€å‘½ä»¤ä½¿ç”¨"><a href="#åŸºç¡€å‘½ä»¤ä½¿ç”¨" class="headerlink" title="åŸºç¡€å‘½ä»¤ä½¿ç”¨"></a>åŸºç¡€å‘½ä»¤ä½¿ç”¨</h1><ol>
<li><p>SHA256</p>
<ul>
<li><p>ç”ŸæˆXXXæ–‡ä»¶sha256å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sha256sum XXX &gt; XXX.sha256</span><br><span class="line"></span><br><span class="line">[root@wangweilong wwl]# sha256sum clean_virus.sh &gt; clean_virus.sh.sha256</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿½åŠ YYYæ–‡ä»¶åˆ°å·²æœ‰sha256æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sha256sum YYY &gt;&gt; XXX.sha256</span><br><span class="line"></span><br><span class="line">[root@wangweilong wwl]# sha256sum install.log &gt;&gt; clean_virus.sh.sha256</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆçš„sha256æ–‡ä»¶å†…å®¹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@wangweilong wwl]# cat clean_virus.sh.sha256</span><br><span class="line"></span><br><span class="line">799750ecaf018307e3f3a5b69c69d28635bf047472e99c85f094ef210deb8ac9  clean_virus.sh</span><br><span class="line">328de949506461ffb371cb2e951d25aadb9e94d7c3038bb08aebce42cd8b84ee  install.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¡éªŒæ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹è½½æ–‡ä»¶å’Œå¯¹åº”çš„md5å€¼æ–‡ä»¶åˆ°åŒä¸€ç›®å½•ä¸‹,æ‰§è¡Œ sha256sum -c XXX.sha256 å‘½ä»¤</span><br><span class="line"></span><br><span class="line">[root@wangweilong test]# sha256sum -c clean_virus.sh.sha256</span><br><span class="line"></span><br><span class="line">clean_virus.sh: OK</span><br><span class="line">install.log: OK</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="2">
<li><p>MD5</p>
<ul>
<li><p>ç”ŸæˆXXXæ–‡ä»¶md5å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md5sum XXX &gt; XXX.md5</span><br><span class="line"></span><br><span class="line">[root@wangweilong wwl]# md5sum clean_virus.sh &gt; clean_virus.sh.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿½åŠ YYYæ–‡ä»¶åˆ°å·²æœ‰md5æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md5sum YYY &gt;&gt; XXX.md5</span><br><span class="line"></span><br><span class="line">[root@wangweilong wwl]# md5sum install.log &gt;&gt; clean_virus.sh.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆçš„md5æ–‡ä»¶å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@p5-centos6-wangweilong wwl]# cat clean_virus.sh.md5</span><br><span class="line"></span><br><span class="line">7840489fe303c097fb142a982f9f41e7  clean_virus.sh</span><br><span class="line">16c04079cc2cda26cbab5cfa801df6c6  install.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¡éªŒæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹è½½æ–‡ä»¶å’Œå¯¹åº”çš„md5å€¼æ–‡ä»¶åˆ°åŒä¸€ç›®å½•ä¸‹,æ‰§è¡Œmd5sum -c XXX.md5 å‘½ä»¤</span><br><span class="line">ä¸ºäº†æ›´å¥½çš„å±•ç¤ºï¼Œæˆ‘ä¿®æ”¹äº†install.logæ–‡ä»¶çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">[root@wangweilong test]# md5sum -c clean_virus.sh.md5</span><br><span class="line"></span><br><span class="line">clean_virus.sh: OK</span><br><span class="line">install.log: FAILED</span><br><span class="line">md5sum: WARNING: 1 of 2 computed checksums did NOT match</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/9613/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/43943/"
                            aria-label=": Jira&amp;&amp;Confluence-ç®€ä»‹"
                        >
                            Jira&amp;&amp;Confluence-ç®€ä»‹
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-11-28T10:56:15+08:00">
	
		    Nov 28, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/PM/">PM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="Atlassianå…¬å¸ç®€ä»‹ï¼š"><a href="#Atlassianå…¬å¸ç®€ä»‹ï¼š" class="headerlink" title="Atlassianå…¬å¸ç®€ä»‹ï¼š"></a>Atlassianå…¬å¸ç®€ä»‹ï¼š</h1><p>å®˜ç½‘: <a href="https://www.atlassian.com" target="_blank" rel="noopener">https://www.atlassian.com</a><br>Atlassian, inspired by the Greek Titan. list on the NASDAQ under TEAM 2015.<br>Mission: Move work forward. Atlassian helps teams work smarter and faster, together.</p>
<hr>
<h1 id="ä¸»è¦äº§å“ï¼š"><a href="#ä¸»è¦äº§å“ï¼š" class="headerlink" title="ä¸»è¦äº§å“ï¼š"></a>ä¸»è¦äº§å“ï¼š</h1><table>
<thead>
<tr>
<th style="text-align:left">äº§å“åç§°</th>
<th style="text-align:left">ç®€ä»‹</th>
<th style="text-align:left">å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Jira</td>
<td style="text-align:left">Project and issue tracking</td>
<td style="text-align:left">é¡¹ç›®ç®¡ç†ç³»ç»Ÿ</td>
</tr>
<tr>
<td style="text-align:left">Confluence</td>
<td style="text-align:left">Document collaboration</td>
<td style="text-align:left">çŸ¥è¯†åº“ç³»ç»Ÿ</td>
</tr>
<tr>
<td style="text-align:left">Trello</td>
<td style="text-align:left">Collaborate visually on any project</td>
<td style="text-align:left">ç®€å•çš„å›¢é˜Ÿåä½œç³»ç»Ÿ<br>é€‚åˆä¸ªäººæˆ–è€…å°å›¢é˜Ÿä½¿ç”¨</td>
</tr>
<tr>
<td style="text-align:left">Bitbucket</td>
<td style="text-align:left">Git code management</td>
<td style="text-align:left">ä»£ç åº“æ‰˜ç®¡ç³»ç»Ÿ<br>æ”¯æŒæƒé™ç®¡ç†/code reviewç­‰ç­‰<br>ç±»æ¯”Github</td>
</tr>
<tr>
<td style="text-align:left">Bamboo</td>
<td style="text-align:left">Integration and release management</td>
<td style="text-align:left">è‡ªåŠ¨åŒ–ç³»ç»Ÿ<br>ç±»æ¯”Jenkins</td>
</tr>
<tr>
<td style="text-align:left">Sourcetree</td>
<td style="text-align:left">Git and Mercurial desktop client</td>
<td style="text-align:left">gitå®¢æˆ·ç«¯</td>
</tr>
<tr>
<td style="text-align:left">Fisheye</td>
<td style="text-align:left">Search, monitor, and track across SVN, Git, and Perforce repositories</td>
<td style="text-align:left">ä»£ç åº“æŸ¥è¯¢å±•ç¤ºç³»ç»Ÿ<br>æ”¯æŒå¤šç§ä»£ç åº“</td>
</tr>
<tr>
<td style="text-align:left">Crucible</td>
<td style="text-align:left">Find bugs and improve code quality through peer code review</td>
<td style="text-align:left">code reviewç³»ç»Ÿ<br>ç±»æ¯”Phabricator</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="äº§å“å½¢æ€"><a href="#äº§å“å½¢æ€" class="headerlink" title="äº§å“å½¢æ€"></a>äº§å“å½¢æ€</h1><table>
<thead>
<tr>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">ç®€ä»‹</th>
<th style="text-align:left">ä¼˜ç‚¹</th>
<th style="text-align:left">ç¼ºç‚¹</th>
<th style="text-align:left">é€‚ç”¨åœºæ™¯</th>
<th style="text-align:left">ä»˜æ¬¾ç­–ç•¥</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Cloud</td>
<td style="text-align:left">ATLASSIANå…¬å¸æ­å»ºè¿ç»´äº‘æœåŠ¡</td>
<td style="text-align:left">1.å¼€ç®±å³ç”¨<br>2.è¿ç»´å®¹ç¾ç”±ATLASSIANå…¬å¸ä¿éšœ<br>3.æ–°ç‰ˆæœ¬å‡çº§æ”¯æŒ<br>4.æ—¥å¸¸ä½¿ç”¨é—®é¢˜æ”¯æŒ</td>
<td style="text-align:left">1. å›½å†…è®¿é—®é€Ÿåº¦æ…¢<br>2. æ•°æ®æ‰˜ç®¡åœ¨cloud</td>
<td style="text-align:left">1.å¿«é€Ÿä½¿ç”¨ <br>2.å¤šåœ°ç‚¹ä½¿ç”¨<br>3.è¿ç»´èƒ½åŠ›ä¸€èˆ¬</td>
<td style="text-align:left">per year</td>
</tr>
<tr>
<td style="text-align:left">Server</td>
<td style="text-align:left">å…¬å¸è‡ªè¡Œæ­å»ºè¿ç»´æœåŠ¡</td>
<td style="text-align:left">1.è‡ªè¡Œå®šåˆ¶é…ç½®æ­å»º<br>2.æ•°æ®ä¿¡æ¯å­˜å‚¨åœ¨è‡ªå®¶æœåŠ¡å™¨ä¸Š<br>3.è®¿é—®é€Ÿåº¦å¿«</td>
<td style="text-align:left">è‡ªè¡Œè´Ÿè´£è¿ç»´ï¼ˆæœåŠ¡/ç½‘ç»œï¼‰</td>
<td style="text-align:left">1.æ•°æ®ä¿å¯†/å®‰å…¨è¦æ±‚è¾ƒé«˜<br>2.è¿ç»´èƒ½åŠ›è¾ƒå¼ºå›¢é˜Ÿ</td>
<td style="text-align:left">one-time payment<br>æœåŠ¡å¯ä»¥ä¸€ç›´ä½¿ç”¨<br>åŒ…å«12ä¸ªæœˆå†…çš„æ–°ç‰ˆæœ¬å‡çº§æ”¯æŒ<br>å¦‚æœ12ä¸ªæœˆåè¿˜æƒ³å‡çº§ç‰ˆæœ¬çš„è¯ï¼Œéœ€è¦é‡æ–°ä»˜è´¹</td>
</tr>
<tr>
<td style="text-align:left">Data Center</td>
<td style="text-align:left">å…¬å¸è‡ªè¡Œæ­å»ºè¿ç»´æœåŠ¡<br>å®˜æ–¹æä¾›æ‰©å±•æ•°æ®/æœåŠ¡å®¹ç¾æ”¯æŒ</td>
<td style="text-align:left">1.æ•°æ®å¤šèŠ‚ç‚¹å­˜å‚¨<br>2.è´Ÿè½½å‡è¡¡<br>3.é›†ç¾¤æ”¯æŒ</td>
<td style="text-align:left">ä»·æ ¼å¤ªè´µäº†</td>
<td style="text-align:left">1.å¤§ä¸­å‹ä¼ä¸šçº§ç”¨æˆ·ï¼ˆ500+ï¼‰<br>2.å®¹ç¾å®‰å…¨/è´Ÿè½½å‡è¡¡è¦æ±‚è¾ƒé«˜<br>3.è·¨å¤šåœ°åŒºå›¢é˜Ÿ</td>
<td style="text-align:left">per year</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="å·¥å…·é“¾é€‰å‹"><a href="#å·¥å…·é“¾é€‰å‹" class="headerlink" title="å·¥å…·é“¾é€‰å‹"></a>å·¥å…·é“¾é€‰å‹</h2><ol>
<li>é¡¹ç›®ç®¡ç†ç³»ç»Ÿï¼š Jira Server</li>
<li>å…¬å¸çŸ¥è¯†åº“ç³»ç»Ÿï¼š Confluence Server</li>
<li>å…¬å¸ä»£ç åº“ï¼š Bitbucket/Gitï¼ˆcode reviewï¼‰</li>
<li>è‡ªåŠ¨åŒ–å¹³å°ï¼š Jenkins ï¼ˆBambooæ­£åœ¨å†…éƒ¨è¯•ç”¨è°ƒç ”ï¼‰</li>
</ol>
<hr>
<h2 id="é€‰å‹æ€è·¯"><a href="#é€‰å‹æ€è·¯" class="headerlink" title="é€‰å‹æ€è·¯"></a>é€‰å‹æ€è·¯</h2><p>0.ä¸ºä»€ä¹ˆæ˜¯Jira Serverç‰ˆæœ¬ï¼Ÿ</p>
<ul>
<li>å…¬å¸é¡¹ç›®ç ”å‘å›¢é˜Ÿåœ¨ä¸­å›½ï¼ŒCloudè®¿é—®é€Ÿåº¦ä¸å¿«ï¼›</li>
<li>å…¬å¸ç°æœ‰ç ”å‘ä½“é‡ä¸éœ€è¦è¿‡åº¦æ¶‰åŠæ”¯æŒï¼Œæ‰€ä»¥ä¸è€ƒè™‘Data Centerï¼›</li>
<li>è¿ç»´å›¢é˜Ÿæ¯”è¾ƒå¼ºåŠ›ï¼Œå¯ä»¥åšåˆ°æœåŠ¡å™¨é«˜å¯ç”¨æ”¯æŒï¼›</li>
<li>IOS/Android å®¢æˆ·ç«¯æ”¯æŒï¼›</li>
<li>æµç¨‹/å­—æ®µå®šåˆ¶åŠŸèƒ½å¼ºå¤§ï¼Œé¡¹ç›®æ”¯æŒæ–¹ä¾¿ã€‚</li>
</ul>
<p>1.ä¸ºä»€ä¹ˆæ˜¯Confluenceï¼Ÿ</p>
<ul>
<li>å’ŒJiraæ‰“é€šéå¸¸æ–¹ä¾¿ï¼Œè”åŠ¨æ€§å¾ˆå¥½ï¼›</li>
<li>ç³»ç»Ÿè‡ªå¸¦çš„æ¨¡ç‰ˆé¡µé¢éå¸¸é€‚åˆç‰¹å®šåœºæ™¯ä½¿ç”¨ï¼›</li>
<li>æ˜“ç”¨æ€§å¾ˆå¥½ï¼Œå­¦ä¹ æˆæœ¬å¾ˆä½ï¼›</li>
<li>å¤šäººååŒç¼–è¾‘å¯è§†åŒ–å¾ˆå¥½ï¼›</li>
<li>IOS/Android å®¢æˆ·ç«¯æ”¯æŒ</li>
</ul>
<p>2.ä¸ºä»€ä¹ˆæ˜¯Bitbucketï¼Ÿ</p>
<ul>
<li>åŸæœ‰çš„Gerritç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œæ˜“ç”¨æ€§ä¸å¥½ï¼›</li>
<li>Gitlab / Bitbucket éƒ½å¯ä»¥æ»¡è¶³å›¢é˜Ÿä»£ç æ‰˜ç®¡ / code review / ç³»ç»Ÿé›†æˆçš„éœ€è¦ï¼›</li>
<li>é€‰æ‹© Bitbucket ä¸»è¦æ˜¯å’ŒJira &amp;&amp; Confluenceæ‰“é€šéå¸¸æ–¹ä¾¿ï¼Œè”åŠ¨æ€§å¾ˆå¥½ã€‚</li>
</ul>
<p>3.ä¸ºä»€ä¹ˆæ˜¯Jenkinsï¼Ÿ</p>
<ul>
<li>å·²ç»ä½¿ç”¨Jenkinså¾ˆé•¿æ—¶é—´äº†ï¼Œå›¢é˜Ÿäººå‘˜æ¯”è¾ƒç†Ÿæ‚‰ï¼›</li>
<li>é€šè¿‡äºŒæ¬¡å¼€å‘ï¼ŒJenkinsèƒ½æ»¡è¶³å½“å‰é¡¹ç›®ä½¿ç”¨ï¼›</li>
<li>Bamboo åœ¨Jira &amp;&amp; Confluenceè”åŠ¨è¡Œä¸Šä¼šæ¯”Jenkinså¥½ï¼Œä½†æ˜¯å¤šSlaveæˆæƒè´¹ç”¨å¤ªè´µäº†ï¼›</li>
<li>å› ä¸ºé¡¹ç›®ç‰¹æ®Šæ€§ï¼Œéœ€è¦ç”¨åˆ°å¤šSlaveæŒ‚è½½ï¼Œä»æˆæœ¬è§’åº¦è€ƒè™‘è¿˜æ˜¯ä½¿ç”¨Jenkinsæ›´é€‚åˆã€‚</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/43943/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/42921/"
                            aria-label=": Gerrit LDAP: Allow to configure multiple accountBase and groupBase values"
                        >
                            Gerrit LDAP: Allow to configure multiple accountBase and groupBase values
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-10-11T11:46:37+08:00">
	
		    Oct 11, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><ul>
<li>Gerritå®˜æ–¹æ–‡æ¡£: <a href="https://www.gerritcodereview.com/config-gerrit.html" target="_blank" rel="noopener">Gerritcodereview</a></li>
<li>Github issue: <a href="https://github.com/kbrebanov/ansible-gerrit/issues/15" target="_blank" rel="noopener">Github</a></li>
</ul>
<h2 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h2><p>æ­å»ºäº†Openldapç»´æŠ¤å…¬å¸åŸŸè´¦æˆ·ä¿¡æ¯ï¼ŒGerritç”¨æˆ·éªŒè¯æ¥å…¥äº†LDAPã€‚<br>gerrit.configé…ç½®å¦‚ä¸‹ï¼ˆä¿¡æ¯è¯·æ›´æ–°ä¸ºå„è‡ªå…¬å¸èŠ‚ç‚¹ï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ldap]</span><br><span class="line">  server = ldap://ldap.example.com</span><br><span class="line">  username = ldapuser</span><br><span class="line">  accountBase = ou=people,dc=example,dc=com</span><br><span class="line">  groupBase = ou=groups,dc=example,dc=com</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¸šåŠ¡éœ€æ±‚ï¼š"><a href="#ä¸šåŠ¡éœ€æ±‚ï¼š" class="headerlink" title="ä¸šåŠ¡éœ€æ±‚ï¼š"></a>ä¸šåŠ¡éœ€æ±‚ï¼š</h2><p>å…¬å¸ç‰¹å®šåˆä½œä¼™ä¼´ æœ‰ è®¿é—®ä»£ç åº“ è¿›è¡Œ è”åˆå¼€å‘çš„éœ€æ±‚ã€‚</p>
<h2 id="æ–¹æ¡ˆè®¾è®¡ï¼š"><a href="#æ–¹æ¡ˆè®¾è®¡ï¼š" class="headerlink" title="æ–¹æ¡ˆè®¾è®¡ï¼š"></a>æ–¹æ¡ˆè®¾è®¡ï¼š</h2><ol>
<li>åœ¨ç°æœ‰LDAPèŠ‚ç‚¹çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªouï¼ˆcustomï¼‰ï¼Œç”¨æ¥ç»´æŠ¤åˆä½œä¼™ä¼´è´¦å·ï¼›</li>
<li>åŒæ­¥ è¿™ä¸ªouï¼ˆcustomï¼‰çš„äººå‘˜åˆ°Gerritä¸Šã€‚</li>
</ol>
<hr>
<h2 id="é…ç½®Gerritæ”¯æŒå¤šou-userä¿¡æ¯ï¼š"><a href="#é…ç½®Gerritæ”¯æŒå¤šou-userä¿¡æ¯ï¼š" class="headerlink" title="é…ç½®Gerritæ”¯æŒå¤šou userä¿¡æ¯ï¼š"></a>é…ç½®Gerritæ”¯æŒå¤šou userä¿¡æ¯ï¼š</h2><p>æ ¹æ®Gerritå®˜æ–¹æ–‡æ¡£ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ldap.accountBase</span><br><span class="line">    Root of the tree containing all user accounts. This is typically of the form ou=people,dc=example,dc=com.</span><br><span class="line">    This setting may be added multiple times to specify more than one root.</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è°ƒæ•´gerrit.configé…ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ldap]</span><br><span class="line">  server = ldap://ldap.example.com</span><br><span class="line">  username = ldapuser</span><br><span class="line">  accountBase = ou=people,dc=example,dc=com</span><br><span class="line">  accountBase = ou=custom,dc=example,dc=com</span><br><span class="line">  groupBase = ou=groups,dc=example,dc=com</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åé‡å¯Gerritåï¼Œcustomé‡Œé¢çš„äººå‘˜ä¹Ÿå¯ä»¥ç™»å½•Gerritäº†ã€‚</p>
<hr>
<h2 id="é…ç½®Gerritæ”¯æŒå¤šgroupä¿¡æ¯ï¼š"><a href="#é…ç½®Gerritæ”¯æŒå¤šgroupä¿¡æ¯ï¼š" class="headerlink" title="é…ç½®Gerritæ”¯æŒå¤šgroupä¿¡æ¯ï¼š"></a>é…ç½®Gerritæ”¯æŒå¤šgroupä¿¡æ¯ï¼š</h2><p>æ–¹æ³•å’Œä¸Šé¢åŒæ­¥å¤šä¸ªou userä¿¡æ¯ç›¸ä¼¼ï¼Œå¢åŠ ldap.groupBaseè¡Œå³å¯ã€‚<br>æ ¹æ®Gerritå®˜æ–¹æ–‡æ¡£ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ldap.groupBase</span><br><span class="line">    Root of the tree containing all group objects. This is typically of the form ou=groups,dc=example,dc=com.</span><br><span class="line">    This setting may be added multiple times to specify more than one root.</span><br></pre></td></tr></table></figure></p>
<h3 id="å…³äºLDAP-groupä¿¡æ¯ï¼š"><a href="#å…³äºLDAP-groupä¿¡æ¯ï¼š" class="headerlink" title="å…³äºLDAP groupä¿¡æ¯ï¼š"></a>å…³äºLDAP groupä¿¡æ¯ï¼š</h3><p>ä¸€èˆ¬ç³»ç»Ÿæ¥å…¥LDAPåšè´¦æˆ·éªŒè¯ï¼Œåªéœ€åŒæ­¥LDAPçš„userä¿¡æ¯ï¼Œä¸ç›´æ¥ä½¿ç”¨LDAPçš„groupä¿¡æ¯ã€‚<br>å„ä¸ªç³»ç»Ÿè‡ªè¡Œåˆ›å»ºç³»ç»Ÿç»„è¿›è¡Œäººå‘˜æƒé™ç®¡ç†ï¼Œè¿™æ ·æ›´åŠ çµæ´»ã€‚<br>åŒæ—¶ï¼Œä¹Ÿä¸å»ºè®®LDAPé‡Œé¢ç»´æŠ¤å¤ªå¤šgroupï¼Œæ›´åŠ æ¨èLDAPè½»é‡åŒ–ä½¿ç”¨ã€‚</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/42921/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/31267/"
                            aria-label=": Git tips two"
                        >
                            Git tips two
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-23T18:51:04+08:00">
	
		    Sep 23, 2019
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="è½¯ä»¶ç‰ˆæœ¬ï¼š"><a href="#è½¯ä»¶ç‰ˆæœ¬ï¼š" class="headerlink" title="è½¯ä»¶ç‰ˆæœ¬ï¼š"></a>è½¯ä»¶ç‰ˆæœ¬ï¼š</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git version 2.23.0</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨http-httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š"><a href="#ä½¿ç”¨http-httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š" class="headerlink" title="ä½¿ç”¨http/httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š"></a>ä½¿ç”¨http/httpsåè®®ä»£ç åº“åœ°å€ï¼Œæœ‰æ—¶ä¼šå‡ºç°ä¸èƒ½å­˜å‚¨å¯†ç ï¼Œæ¯æ¬¡äº¤äº’æ“ä½œéƒ½éœ€è¦è¾“å…¥å¸æˆ·å¯†ç æƒ…å†µï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è®°ä½å¯†ç ï¼ˆé»˜è®¤15åˆ†é’Ÿï¼‰ï¼šgit config --global credential.helper cache</span><br><span class="line">è‡ªå·±å®šä¹‰æ—¶é—´ï¼ˆä¸€å°æ—¶åå¤±æ•ˆï¼‰ï¼šgit config credential.helper &apos;cache --timeout=3600&apos;</span><br><span class="line">æ°¸ä¹…å­˜å‚¨å¯†ç ï¼šgit config --global credential.helper store</span><br></pre></td></tr></table></figure>
<h2 id="è¡Œç»“æŸç¬¦å¤„ç†ï¼š"><a href="#è¡Œç»“æŸç¬¦å¤„ç†ï¼š" class="headerlink" title="è¡Œç»“æŸç¬¦å¤„ç†ï¼š"></a>è¡Œç»“æŸç¬¦å¤„ç†ï¼š</h2><table>
<thead>
<tr>
<th>OS</th>
<th style="text-align:center">Line Endings</th>
<th style="text-align:right">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>Windows</td>
<td style="text-align:center">CRLF</td>
<td style="text-align:right">æ¯è¡Œç»“å°¾æ˜¯ &lt;æ¢è¡Œ&gt;&lt;å›è½¦ &gt; ï¼Œå³ \n\r</td>
</tr>
<tr>
<td>Mac OS X</td>
<td style="text-align:center">LF</td>
<td style="text-align:right">æ¯è¡Œç»“å°¾åªæœ‰ &lt;æ¢è¡Œ&gt; ï¼Œå³ \n</td>
</tr>
<tr>
<td>Unix/Linux</td>
<td style="text-align:center">LF</td>
<td style="text-align:right">æ¯è¡Œç»“å°¾åªæœ‰ &lt;æ¢è¡Œ&gt; ï¼Œå³ \n</td>
</tr>
<tr>
<td>Classic macOS</td>
<td style="text-align:center">CR</td>
<td style="text-align:right">æ¯è¡Œç»“å°¾æ˜¯ &lt;å›è½¦&gt;ï¼Œå³ \r</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">æ’é™¤è€Macç³»ç»Ÿä¸è®¨è®ºï¼Œé¡¹ç›®ç»„å¦‚æœä¸æ˜¯å…¨Windowsç¯å¢ƒå¼€å‘/éƒ¨ç½²çš„è¯ï¼Œè¿˜æ˜¯è¦è‡ªåŠ¨å¤„ç†ä¸‹è¡Œç»“æŸç¬¦ã€‚</span><br><span class="line"></span><br><span class="line"># Windowsç”¨æˆ·æ‰§è¡Œä¸‹é¢é…ç½®å‘½ä»¤ï¼š</span><br><span class="line">$ git config --global core.autocrlf true # åœ¨æäº¤æ—¶è‡ªåŠ¨åœ°æŠŠè¡Œç»“æŸç¬¦CRLFè½¬æ¢æˆLFï¼Œè€Œåœ¨ç­¾å‡ºä»£ç æ—¶æŠŠLFè½¬æ¢æˆCRLF</span><br><span class="line"></span><br><span class="line"># Linux å’Œ Macç”¨æˆ·æ‰§è¡Œä¸‹é¢é…ç½®å‘½ä»¤ï¼šï¼ˆé¢„é˜²ä»£ç åº“å·²ç»æœ‰CRLFç»“æŸç¬¦çš„ä»£ç ï¼‰</span><br><span class="line">$ git config --global core.autocrlf input # åœ¨æäº¤æ—¶æŠŠCRLFè½¬æ¢æˆLFï¼Œç­¾å‡ºæ—¶ä¸è½¬æ¢</span><br><span class="line"></span><br><span class="line"># é»˜è®¤é…ç½®ï¼š</span><br><span class="line">$ git config --global core.autocrlf false # æäº¤å’Œç­¾å‡ºæ—¶éƒ½ä¸å¯¹ä»£ç è¡Œç»“æŸç¬¦åšè½¬æ¢</span><br></pre></td></tr></table></figure>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/31267/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/1056/"
                            aria-label=": Git å†å²åˆ é™¤æ–‡ä»¶"
                        >
                            Git å†å²åˆ é™¤æ–‡ä»¶
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-07-18T15:23:19+08:00">
	
		    Jul 18, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li>Github: <a href="https://help.github.com/articles/removing-files-from-a-repository-s-history/" target="_blank" rel="noopener">Removing files from a repositoryâ€™s history</a></li>
<li>Github: <a href="https://help.github.com/articles/removing-sensitive-data-from-a-repository/" target="_blank" rel="noopener">Removing sensitive data from a repository
</a></li>
<li>Git-scm: <a href="https://git-scm.com/docs/git-filter-branch" target="_blank" rel="noopener">git-filter-branch</a></li>
<li>bfg-repo-cleaner: <a href="https://rtyley.github.io/bfg-repo-cleaner/" target="_blank" rel="noopener">bfg-repo-cleaner</a></li>
</ul>
<hr>
<h1 id="åœºæ™¯1"><a href="#åœºæ™¯1" class="headerlink" title="åœºæ™¯1:"></a>åœºæ™¯1:</h1><p>æœ€æ–°çš„ä¸€ä¸ªæäº¤ç‰ˆæœ¬é‡Œé¢æ–°å¢äº†æ•æ„Ÿã€è¾ƒå¤§ã€æ— æ„ä¹‰çš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œæ¸…ç†ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ é™¤æ–‡ä»¶</span><br><span class="line">    $ git rm --cached $&#123;æ–‡ä»¶ç»å¯¹åœ°å€&#125;</span><br><span class="line">2. å¢åŠ åˆ°ä¸Šè¿°æ–‡ä»¶åˆ° .gitignore</span><br><span class="line">    $ vim .gitignore</span><br><span class="line">3. ä¿®å¤æœ€æ–°æäº¤ç‰ˆæœ¬</span><br><span class="line">    $ git commit --amend</span><br><span class="line">4. æ¨é€æ–°ç‰ˆæœ¬åˆ°è¿œç«¯ä»“åº“</span><br><span class="line">    å¦‚æœåˆšæ‰ç‰ˆæœ¬å·²ç»æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼š</span><br><span class="line">        $ git push -f</span><br><span class="line">    å¦‚æœåˆšæ‰ç‰ˆæœ¬åªæ˜¯åœ¨æœ¬åœ°ä»“åº“ï¼š</span><br><span class="line">        $ git push</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="åœºæ™¯2"><a href="#åœºæ™¯2" class="headerlink" title="åœºæ™¯2:"></a>åœºæ™¯2:</h1><p>å†å²ç‰ˆæœ¬é‡Œé¢å­˜åœ¨æ•æ„Ÿã€è¾ƒå¤§ã€æ— æ„ä¹‰çš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œæ¸…ç†ã€‚</p>
<h3 id="ä½¿ç”¨-git-filter-branch"><a href="#ä½¿ç”¨-git-filter-branch" class="headerlink" title="ä½¿ç”¨ git filter-branch"></a>ä½¿ç”¨ git filter-branch</h3><p>git åŸç”Ÿæä¾›çš„å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè¯·å…ˆå‡çº§æœºå™¨gitç‰ˆæœ¬ã€‚</p>
<ul>
<li>åŸç†ï¼š<br>  æ‰«æä»£ç åº“æ‰€æœ‰ç‰ˆæœ¬<pre><code>å¦‚æœæŸä¸ªç‰ˆæœ¬é‡Œé¢å‘ç°äº†æŒ‡å®šçš„æ–‡ä»¶ORç›®å½•ï¼š
    å¦‚æœæ­¤ç‰ˆæœ¬åŒ…å«è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½• å’Œ å…¶å®ƒå˜æ›´çš„è¯ï¼Œå¯¹æ­¤ç‰ˆæœ¬è¿›è¡Œåˆ é™¤æŒ‡å®šæ–‡ä»¶ORç›®å½•ï¼ˆä¿ç•™å…¶å®ƒå˜æ›´ï¼‰ï¼Œå¹¶ç”Ÿæˆæ–°çš„ç‰ˆæœ¬ã€‚åŒæ—¶åé¢çš„ç‰ˆæœ¬ä¼šå˜åŸºåˆ°æ–°ç‰ˆæœ¬ã€‚
    å¦‚æœæ­¤ç‰ˆæœ¬åªåŒ…å«è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½•å˜æ›´çš„è¯ï¼Œé‚£ä¹ˆæ­¤ç‰ˆæœ¬ä¼šè¢«æ¸…é™¤ã€‚åŒæ—¶åé¢çš„ç‰ˆæœ¬ä¼šå˜åŸºåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚
å¦‚æœç‰ˆæœ¬æ²¡æœ‰åŒ…å«æŒ‡å®šæ–‡ä»¶ORç›®å½•ï¼Œé‚£ä¹ˆç»§ç»­éå†ã€‚
</code></pre></li>
<li>PSï¼š<ol>
<li>å¦‚æœä»£ç åº“å†å²æ¯”è¾ƒå¤š OR æ¶‰åŠåˆ°æŒ‡å®šæ–‡ä»¶ORç›®å½•çš„ç‰ˆæœ¬æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå‘½ä»¤æ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ã€‚</li>
<li>ä¸€èˆ¬ä¼šå¯¼è‡´ä»£ç åº“ç‰ˆæœ¬æ ‘å˜åŒ–ï¼Œå¯¹äºæ¶‰åŠå¼€å‘åŒå­¦ï¼Œå»ºè®®å¼€å§‹å‰æäº¤æœ¬åœ°ä¿®æ”¹å˜æ›´åˆ°è¿œç«¯ä»“åº“ï¼Œå®Œæˆåæœ¬æœºé‡æ–°cloneä»£ç åº“è¿›è¡Œå¼€å‘ã€‚</li>
<li>ä¸€èˆ¬éƒ½åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•æ‰§è¡Œ</li>
<li>æ‰§è¡Œå‘½ä»¤åå†å²ç‰ˆæœ¬é‡Œé¢å·²ç»æ¸…ç†äº†æ–‡ä»¶, ä½†æ˜¯æˆ‘ä»¬çš„æœ¬åœ°ä»“åº“é‡Œé¢ä»ç„¶ä¿ç•™äº†è¿™äº›objects, ç­‰å¾…åƒåœ¾å›æ”¶(GC), å¦‚æœæƒ³ç«‹å³å›æ”¶æœ¬åœ°ä»“åº“ç©ºé—´å¯ä»¥æ‰§è¡Œ git gc â€“prune=now.</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. æ‰§è¡Œå‘½ä»¤</span><br><span class="line">    $ git filter-branch --force --index-filter &apos;git rm --cached -r --ignore-unmatch $&#123;è¦æ¸…ç†çš„æ–‡ä»¶ORç›®å½•çš„ç»å¯¹åœ°å€&#125;&apos; --prune-empty --tag-name-filter cat -- --all</span><br><span class="line">2. å¢åŠ åˆ°ä¸Šè¿°æ–‡ä»¶ORç›®å½•åˆ° .gitignore</span><br><span class="line">    $ vim .gitignore</span><br><span class="line">3. æ¨é€æ–°ç‰ˆæœ¬åˆ°è¿œç«¯ä»“åº“</span><br><span class="line">    $ git push -f --all</span><br><span class="line">    $ git push -f --tags</span><br><span class="line">4. æ¸…ç†æœ¬åœ°ä»“åº“æ®‹ç•™çš„git objects</span><br><span class="line">    $ git reflog expire --expire=now --all</span><br><span class="line">    $ git gc --prune=now</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨-bfg-repo-cleaner"><a href="#ä½¿ç”¨-bfg-repo-cleaner" class="headerlink" title="ä½¿ç”¨ bfg-repo-cleaner"></a>ä½¿ç”¨ bfg-repo-cleaner</h3><p>Roberto Tyleyä½¿ç”¨Scalaè¯­è¨€å†™äº† bfg-repo-cleanerå·¥å…·ã€‚<br>å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„ git filter-branchã€‚<br>ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œåªéœ€è¦ä¸‹è½½æœ€æ–°çš„jaråŒ…ï¼Œç„¶åæ‰§è¡ŒğŸ‘‡å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤å¤§äº50Mçš„æ–‡ä»¶</span><br><span class="line">$ java -jar bfg.jar --no-blob-protection --strip-blobs-bigger-than 50M</span><br><span class="line"># åˆ é™¤æŒ‡å®šæ–‡ä»¶</span><br><span class="line">$ java -jar bfg.jar --no-blob-protection --delete-files $&#123;è¦æ¸…ç†çš„æ–‡ä»¶çš„ç»å¯¹åœ°å€&#125;</span><br></pre></td></tr></table></figure></p>
<p>PS:</p>
<pre><code>1. bfg-repo-cleaner æœ‰ä¸ªprotectåŠŸèƒ½ï¼Œé»˜è®¤HEADæ˜¯å—ä¿æŠ¤çš„ã€‚
    å—ä¿æŠ¤çš„åˆ†æ”¯æœ€æ–°ç‰ˆæœ¬å¦‚æœæ¶‰åŠéœ€è¦æ¸…ç†æ–‡ä»¶ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šæˆåŠŸã€‚
    --no-blob-protection  å…³é—­protectåŠŸèƒ½
    --protect-blobs-from ${åˆ†æ”¯1},${åˆ†æ”¯2} å¢åŠ å—ä¿æŠ¤çš„åˆ†æ”¯
2. å»ºè®®åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•æ‰§è¡Œã€‚
</code></pre><hr>
<h1 id="åœºæ™¯3"><a href="#åœºæ™¯3" class="headerlink" title="åœºæ™¯3:"></a>åœºæ™¯3:</h1><p>æŸ¥æ‰¾ä»£ç åº“é‡Œé¢è¾ƒå¤§æ–‡ä»¶æ–¹æ³•ï¼š</p>
<pre><code>- å¦‚æœå½“å‰ç‰ˆæœ¬è¿˜å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥duæ’åºæ¥è¯†åˆ«ï¼›
- å¦‚æœå½“å‰ç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œä½†æ˜¯å†å²ä¸­å‡ºç°è¿‡çš„å¤§æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ¥æŸ¥è¯¢ã€‚
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. æ˜¾ç¤ºæ¯”è¾ƒå¤§çš„pack</span><br><span class="line">$ du -ah .git/objects/pack</span><br></pre></td></tr></table></figure>
<p><img src="/posts/1056/git1.png" alt="logo"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2. è¯†åˆ«object,å¯¹è¾“å‡ºçš„ç¬¬ä¸‰åˆ—ä¿¡æ¯å³æ–‡ä»¶å¤§å°è¿›è¡Œæ’åº</span><br><span class="line">$ git verify-pack -v .git/objects/pack/$&#123;pack-XXX.pack&#125; | sort -k 3 -n | tail -5</span><br></pre></td></tr></table></figure></p>
<p><img src="/posts/1056/git2.png" alt="logo"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3. è¯†åˆ«objectå¯¹åº”çš„æ–‡ä»¶</span><br><span class="line">$ git rev-list --objects --all | grep $&#123;ğŸ‘†è·å–çš„object&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/posts/1056/git3.png" alt="logo"></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/1056/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/20597/"
                            aria-label=": Nexus3æ­å»ºnpmç§æœ"
                        >
                            Nexus3æ­å»ºnpmç§æœ
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-25T18:46:34+08:00">
	
		    Jun 25, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://help.sonatype.com/repomanager3/node-packaged-modules-and-npm-registries" target="_blank" rel="noopener">node-packaged-modules-and-npm-registries</a></li>
</ul>
<h2 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h2><p>éšç€å…¬å¸å‰ç«¯å›¢é˜Ÿçš„æ‰©å¤§ï¼Œéœ€è¦æ‹†åˆ†å‡ºå…¬å¸åŸºç¡€æ¨¡å—ä¾›å…¶å®ƒé¡¹ç›®ä½¿ç”¨ï¼Œä½¿ç”¨Nexus3æ­å»ºå…¬å¸npmç§æœã€‚</p>
<h1 id="æ­å»ºæ­¥éª¤ï¼š"><a href="#æ­å»ºæ­¥éª¤ï¼š" class="headerlink" title="æ­å»ºæ­¥éª¤ï¼š"></a>æ­å»ºæ­¥éª¤ï¼š</h1><h3 id="1-åˆ›å»ºnpmåº“ï¼š"><a href="#1-åˆ›å»ºnpmåº“ï¼š" class="headerlink" title="1. åˆ›å»ºnpmåº“ï¼š"></a>1. åˆ›å»ºnpmåº“ï¼š</h3><p><img src="/posts/20597/npm_create1.png" alt="logo"><br><img src="/posts/20597/npm_create2.png" alt="logo"><br><img src="/posts/20597/npm_create3.png" alt="logo"><br><img src="/posts/20597/npm_create4.png" alt="logo"></p>
<h3 id="2-æƒé™é…ç½®ï¼š"><a href="#2-æƒé™é…ç½®ï¼š" class="headerlink" title="2. æƒé™é…ç½®ï¼š"></a>2. æƒé™é…ç½®ï¼š</h3><ul>
<li>æ¿€æ´» npm Bearer Token Realm<br><img src="/posts/20597/npm_realms.png" alt="logo"></li>
<li>åˆ›å»ºå¼€å‘æƒé™ç»„å¯¹hosted npmç§æœåº“è¯»å†™æƒé™<br><img src="/posts/20597/group.png" alt="logo"><br><img src="/posts/20597/group2.png" alt="logo"></li>
<li>åˆ›å»ºdevå¸æˆ·å¹¶åŠ å…¥åˆ°å¼€å‘æƒé™ç»„<br><img src="/posts/20597/user.png" alt="logo"><br><img src="/posts/20597/user2.png" alt="logo"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS: åŒ¿åç”¨æˆ·å¯ä»¥ä¸‹è½½ç§æœnpmåŒ…ï¼Œåªæœ‰devç»„å†…çš„å¸æˆ·æ‰èƒ½publishåŒ…åˆ°hostedç§æœ</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨ï¼š"><a href="#ä½¿ç”¨ï¼š" class="headerlink" title="ä½¿ç”¨ï¼š"></a>ä½¿ç”¨ï¼š</h1><h3 id="1-é…ç½®nexusç§æœ"><a href="#1-é…ç½®nexusç§æœ" class="headerlink" title="1.é…ç½®nexusç§æœ"></a>1.é…ç½®nexusç§æœ</h3><ul>
<li><p>æŸ¥çœ‹æœ¬æœºç§æœé…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config get registry</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®æœ¬æœºé…ç½®åˆ°groupç§æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm config set registry http://$&#123;ip&#125;:8081/repository/$&#123;npm_group&#125;/</span><br><span class="line">       ï¼ˆå†™å…¥åˆ°æœ¬æœº.npmrcæ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ­¤æ—¶ï¼Œé¡¹ç›®æ‰§è¡Œnpm installå³ä»nexusä¸Šé¢è¿›è¡Œä¸‹è½½åŒ…</p>
</li>
</ul>
<h3 id="2-é…ç½®publishå¸æˆ·"><a href="#2-é…ç½®publishå¸æˆ·" class="headerlink" title="2.é…ç½®publishå¸æˆ·"></a>2.é…ç½®publishå¸æˆ·</h3><p>æœ‰ğŸ‘‡ä¸¤ç§æ–¹å¼</p>
<ul>
<li><p>Authentication Using Realm and Login</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> $ npm login --registry=http://$&#123;ip&#125;:8081/repository/$&#123;npm_hosted&#125;/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Username: dev ï¼ˆå„ä½æ ¹æ®ä¸Šé¢åˆ›å»ºçš„å¸æˆ·è‡ªè¡Œæ›¿æ¢ï¼‰</span><br><span class="line">Password: $&#123;dev_pass&#125; ï¼ˆå„ä½æ ¹æ®ä¸Šé¢åˆ›å»ºçš„å¯†ç è‡ªè¡Œæ›¿æ¢ï¼‰</span><br><span class="line">Email: (this IS public) XXX@XXX.com (å„ä½æ ¹æ®ä¸Šé¢åˆ›å»ºçš„é‚®ç®±è‡ªè¡Œæ›¿æ¢)</span><br><span class="line"></span><br><span class="line">Logged in as dev on http://$&#123;ip&#125;:8081/repository/$&#123;npm_hosted&#125;/.</span><br><span class="line">        ï¼ˆå†™å…¥åˆ°æœ¬æœº.npmrcæ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure>
</li>
<li><p>Authentication Using Basic Auth</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> $ echo -n &apos;dev:$&#123;dev_pass&#125;&apos; | openssl base64  ï¼ˆdevå¸æˆ·å¯†ç base64ç¼–ç ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æœ¬æœº.npmrcæ–‡ä»¶é‡Œé¢å¢åŠ ğŸ‘‡è¡Œ</span><br><span class="line"></span><br><span class="line">email=XXX@XXX.com</span><br><span class="line">always-auth=true</span><br><span class="line">_auth=$&#123;base64ç¼–ç åçš„å€¼&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-æ¨é€npmåŒ…åˆ°nexus"><a href="#3-æ¨é€npmåŒ…åˆ°nexus" class="headerlink" title="3.æ¨é€npmåŒ…åˆ°nexus"></a>3.æ¨é€npmåŒ…åˆ°nexus</h3><p>æœ‰ğŸ‘‡ä¸¤ç§æ–¹å¼</p>
<ul>
<li><p>å‘½ä»¤è¡Œ + å‘å¸ƒè·¯å¾„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm publish â€“registry http://$&#123;ip&#125;:8081/repository/$&#123;npm_hosted&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.jsoné…ç½®å‘å¸ƒè·¯å¾„ï¼ˆæ¨èï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">é¡¹ç›®package.jsonå¢åŠ ğŸ‘‡é…ç½®ï¼š</span><br><span class="line"></span><br><span class="line">&quot;publishConfig&quot; : &#123;</span><br><span class="line">  &quot;registry&quot; : &quot;http://$&#123;ip&#125;:8081/repository/$&#123;npm_hosted&#125;/&quot;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ‰§è¡ŒğŸ‘‡å‘½ä»¤å³å¯</span><br><span class="line">$ npm publish</span><br></pre></td></tr></table></figure>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/20597/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/17688/"
                            aria-label=": maven Tips - force update"
                        >
                            maven Tips - force update
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-05-14T16:14:11+08:00">
	
		    May 14, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="localRepositoryæœºåˆ¶ï¼š"><a href="#localRepositoryæœºåˆ¶ï¼š" class="headerlink" title="localRepositoryæœºåˆ¶ï¼š"></a>localRepositoryæœºåˆ¶ï¼š</h3><ul>
<li><a href="http://maven.apache.org/guides/introduction/introduction-to-repositories.html" target="_blank" rel="noopener">introduction-to-repositories</a><br>The local repository refers to a copy on your own installation that is a cache of the remote downloads, and also contains the temporary build artifacts that you have not yet released.</li>
</ul>
<ul>
<li><p>settings.xmlé…ç½®ï¼š</p>
<pre><code>&lt;!-- localRepository
    | The path to the local repository maven will use to store artifacts.
    |
    | Default: ${user.home}/.m2/repository
--&gt;
&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;
</code></pre></li>
<li><p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>mavenæ‰§è¡Œç¼–è¯‘æ‰“åŒ…æ—¶å…ˆè¿›è¡Œä¾èµ–çš„ä¸‹è½½ï¼š</li>
<li>å¦‚æœé¡¹ç›®ä¾èµ–localRepositoryä¸­å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆç»§ç»­è¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼›</li>
<li>å¦‚æœé¡¹ç›®ä¾èµ–localRepositoryä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå…ˆä¸‹è½½ä¾èµ–åˆ°localRepositoryï¼Œç„¶åè¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼›</li>
</ul>
</li>
</ul>
<h3 id="å¼ºåˆ¶æ›´æ–°SNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š"><a href="#å¼ºåˆ¶æ›´æ–°SNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š" class="headerlink" title="å¼ºåˆ¶æ›´æ–°SNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š"></a>å¼ºåˆ¶æ›´æ–°SNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š</h3><ul>
<li><a href="https://maven.apache.org/settings.html#Repositories" target="_blank" rel="noopener">snapshots updatePolicy</a><ul>
<li>updatePolicy: This element specifies how often updates should attempt to occur. Maven will compare the local POMâ€™s timestamp (stored in a repositoryâ€™s maven-metadata file) to the remote. The choices are: always, daily (default), interval:X (where X is an integer in minutes) or never.</li>
</ul>
</li>
<li>ğŸ‘‡åœºæ™¯ä¸‹éœ€è¦å¼ºåˆ¶æ›´æ–°ï¼š<ul>
<li>é»˜è®¤snapshotç‰ˆæœ¬ä¾èµ–localRepositoryæ›´æ–°æ˜¯å¤©çº§çš„ã€‚å¦‚æœé¡¹ç›®è”è°ƒé˜¶æ®µä¸€å¤©ä¹‹å†…å¤šæ¬¡snapshotä¾èµ–æ›´æ–°ã€‚</li>
<li>å¦‚æœé¡¹ç›®ä¸‹è½½ä¾èµ–è¿‡ç¨‹ä¸­æ–­ï¼ˆå¸¸è§ç½‘ç»œåŸå› ï¼‰ï¼Œå¯¼è‡´localRepositoryä¸­çš„æ–‡ä»¶çŠ¶æ€æœ‰é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
<pre><code>mvn clean package -U

-U,--update-snapshots                  
        Forces a check for missing releases and updated snapshots on remote repositories
</code></pre><h3 id="å¼ºåˆ¶æ›´æ–°RELEASEå’ŒSNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š"><a href="#å¼ºåˆ¶æ›´æ–°RELEASEå’ŒSNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š" class="headerlink" title="å¼ºåˆ¶æ›´æ–°RELEASEå’ŒSNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š"></a>å¼ºåˆ¶æ›´æ–°RELEASEå’ŒSNAPSHOTç‰ˆæœ¬ä¾èµ–ï¼š</h3><ul>
<li><p>ğŸ‘‡åœºæ™¯å»ºè®®ä½¿ç”¨å¼ºåˆ¶æ›´æ–°ï¼š</p>
<ul>
<li>å¦‚æœé¡¹ç›®ä¸‹è½½ä¾èµ–è¿‡ç¨‹ä¸­æ–­ï¼ˆå¸¸è§ç½‘ç»œåŸå› ï¼‰ï¼Œå¯¼è‡´localRepositoryä¸­çš„æ–‡ä»¶çŠ¶æ€æœ‰é—®é¢˜ã€‚</li>
</ul>
</li>
<li><p>æ–¹æ³•ï¼š</p>
<ul>
<li>ç®€å•ç²—æš´å‹ï¼šç›´æ¥æ¸…ç©ºlocalRepositoryï¼Œç„¶åæ‰§è¡Œç¼–è¯‘æ‰“åŒ…é‡æ–°ä¸‹è½½ä¾èµ–ã€‚</li>
<li>æ¨èç²¾ç»†å‹ï¼šå®šå‘åˆ é™¤localRepositoryä¸­ æœ¬æ¬¡é¡¹ç›®æ¶‰åŠä¾èµ–ï¼Œç„¶åé‡æ–°ä¸‹è½½ï¼š</li>
</ul>
</li>
</ul>
<pre><code>mvn dependency:purge-local-repository

    tells Maven to clear all dependency-artifact files out of the local repository, and optionally re-resolve them.
</code></pre>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/17688/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/27558/"
                            aria-label=": Nexus3æ‰¹é‡å¯¼å…¥jaråŒ…"
                        >
                            Nexus3æ‰¹é‡å¯¼å…¥jaråŒ…
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-03-28T19:19:17+08:00">
	
		    Mar 28, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li><a href="https://support.sonatype.com/hc/en-us/articles/115006744008-How-can-I-programmatically-upload-an-artifact-into-Nexus-3-" target="_blank" rel="noopener">How can I programmatically upload an artifact into Nexus 3?</a></li>
<li><a href="https://gist.github.com/DarthHater/a4f2738e3bd40d242db22633b59dfd63" target="_blank" rel="noopener">Nexus Repository Import Script
</a></li>
</ul>
<h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å·²ç»æ­å»ºNexus3.6.0ï¼Œéœ€è¦è¿ç§»åŸæœ‰ ä¸¤ä¸ª nexus2ä¸Šçš„jaråŒ… åˆ°nexus3ç»Ÿä¸€ç®¡ç†ã€‚</p>
<h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><ul>
<li>Nexus2.x æœåŠ¡å™¨ç›´æ¥å­˜å‚¨jaråŒ…</li>
<li>Nexus3.x æœåŠ¡å™¨å­˜å‚¨çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶</li>
<li>æ‰€ä»¥ä¸èƒ½é€šè¿‡ copyåŸNexus2.xæœåŠ¡å™¨ä¸Šçš„ repositoriesç›®å½• åˆ°nexus3.Xï¼Œåˆ·æ–°indexæ–¹å¼æ¥è¿ç§»ã€‚</li>
</ul>
<h3 id="è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š"><a href="#è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š"></a>è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š</h3><ol>
<li><p><a href="https://help.sonatype.com/display/NXRM3/Upgrading" target="_blank" rel="noopener">å®˜æ–¹Upgrading</a><br> å…·ä½“å®æ–½å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡blogã€‚<br> è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼š</p>
<pre><code>- éœ€è¦åŸnexusç‰ˆæœ¬ä¸º2.14.xç‰ˆæœ¬
- æ¯ä¸ªnexus2å¯¼å…¥éƒ½ä¼šåœ¨nexus3ä¸Šé¢éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä¸é€‚åˆæœ‰å¤šä¸ªnexus2ç»Ÿä¸€è¿ç§»åˆ°ä¸€ä¸ªnexus3
</code></pre></li>
<li><p>mvn deployå‘½ä»¤ä¸Šä¼ <br> å¦‚æœåŸnexus2å¾…è¿ç§»çš„jaråŒ…å¹¶ä¸å¤šï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</p>
<pre><code>1. åªä¸Šä¼ jarï¼Œè‡ªåŠ¨ç”Ÿæˆpom.xml ï¼ˆç‹¬ç«‹jarï¼Œpomä¸éœ€è¦ä¾èµ–å…¶å®ƒï¼‰
mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -Dpackaging=jar -DrepositoryId=nexus -Durl=http://$ip:8081/repository/$repository_name -Dfile=$path/XX.jar

2. ä¸Šä¼ jar å’Œ pom.xml (pomé‡Œé¢æœ‰ä¾èµ–)
mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -DgeneratePom=false -Dpackaging=jar -DrepositoryId=nexus -Durl=http://$ip:8081/repository/$repository_name -DpomFile=$path/pom.xml -Dfile=$path/XX.jar
</code></pre><p> éœ€è¦æ³¨æ„ï¼š</p>
<pre><code>- å‘½ä»¤é‡Œé¢-DrepositoryId=nexuså¯¹åº”çš„æ˜¯æœ¬æœºmvn settings.xmlæ–‡ä»¶é…ç½®&lt;server&gt; &lt;id&gt;
- å†™è„šæœ¬å°è£…ä¸Šé¢å‘½ä»¤å®ç°æ‰¹é‡è¿ç§»
</code></pre></li>
<li><p>httpåè®®ä¸Šä¼ <br> ç›´æ¥ä½¿ç”¨http put æ–‡ä»¶åˆ°/repository/$repo-id/$path-of-file</p>
<pre><code>curl -v -u admin:admin123 --upload-file pom.xml http://$ip:8081/repository/maven-releases/org/foo/1.0/foo-1.0.pom
</code></pre><p> æˆ‘ä»¬éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼šjarå’Œpom.xml</p>
<p> åˆ›å»º mavenimport.sh è„šæœ¬å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># Get command line params</span><br><span class="line">while getopts &quot;:r:u:p:&quot; opt; do</span><br><span class="line">    case $opt in</span><br><span class="line">        r) REPO_URL=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        u) USERNAME=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        p) PASSWORD=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        esac</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">find . -type f -not -path &apos;*/\.*&apos; -not -path &apos;*/\^archetype\-catalog\.xml*&apos; -not -path &apos;*/\^maven\-metadata\-local*\.xml&apos; -not -path &apos;*/\^maven\-metadata\-deployment*\.xml&apos; -exec curl -u $USERNAME:$PASSWORD -X PUT -v -T &#123;&#125; $REPO_URL&#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p> ç™»é™†åˆ°Nexus2.xæœåŠ¡å™¨æ‰§è¡Œ</p>
<pre><code>cd $releases_dir
cp $path/mavenimport.sh .
sh mavenimport.sh -u admin -p admin123 -r http://$ip:8081/repository/$release_repository_name

cd $snapshots_dir
cp $path/mavenimport.sh .
sh mavenimport.sh -u admin -p admin123 -r http://$ip:8081/repository/$snapshots_repository_name
</code></pre><p> éœ€è¦æ³¨æ„ï¼š</p>
<pre><code>- ä¸Šé¢å‘½ä»¤é‡Œé¢ -u admin -p admin123 è¯·æ›´æ¢æˆnexusç®¡ç†å‘˜å¸æˆ·å¯†ç  ï¼ˆnexusé»˜è®¤ç®¡ç†å‘˜/å¯†ç  admin/admin123ï¼‰
- ä¸Šé¢å‘½ä»¤é‡Œé¢ $releases_dir æ˜¯æŒ‡Nexus2.xæœåŠ¡å™¨ä¸Šå­˜å‚¨releasesä»“åº“è·¯å¾„ã€‚
- ä¸Šé¢å‘½ä»¤é‡Œé¢ $snapshots_dir æ˜¯æŒ‡Nexus2.xæœåŠ¡å™¨ä¸Šå­˜å‚¨snapshotsä»“åº“è·¯å¾„ã€‚
- å¦‚æœä¸åˆ‡æ¢åˆ°ä¸Šé¢ç›®å½•é‡Œé¢ï¼Œé‚£ä¹ˆä¸Šä¼ çš„jaråŒ… group_idä¼šæœ‰é—®é¢˜ã€‚
</code></pre></li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/27558/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/62558/"
                            aria-label=": svnä»£ç åº“è¿ç§»åˆ°git"
                        >
                            svnä»£ç åº“è¿ç§»åˆ°git
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-03-07T10:30:04+08:00">
	
		    Mar 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å…¬å¸ä¸»è¦ä½¿ç”¨gitä½œä¸ºä»£ç ç®¡ç†ä»“åº“ï¼Œç°éœ€è¦æŠŠéƒ¨åˆ†ä½¿ç”¨svnç®¡ç†çš„ä»£ç è¿ç§»åˆ°gitã€‚</p>
<h3 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h3><p>éœ€è¦ä¿ç•™æ‰€æœ‰ branchesã€ä¸»å¹²ã€tagsçš„å†å²è®°å½•ã€‚</p>
<h1 id="è¿ç§»æ–¹æ³•ï¼š"><a href="#è¿ç§»æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»æ–¹æ³•ï¼š"></a>è¿ç§»æ–¹æ³•ï¼š</h1><p>ä½¿ç”¨gitå®˜æ–¹æä¾›çš„git svnå‘½ä»¤</p>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼š<a href="https://git-scm.com/docs/git-svn" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<h3 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h3><ul>
<li>OS: macOS 10.13.3</li>
<li>SVNï¼š1.9.4</li>
<li>GITï¼š2.16.2</li>
</ul>
<h1 id="è¿ç§»æ­¥éª¤ï¼š"><a href="#è¿ç§»æ­¥éª¤ï¼š" class="headerlink" title="è¿ç§»æ­¥éª¤ï¼š"></a>è¿ç§»æ­¥éª¤ï¼š</h1><ol>
<li>è·å–æŒ‡å®šsvnä»£ç åº“æ¶‰åŠçš„å¼€å‘åŒå­¦åå•å¹¶è½¬æ¢ï¼š<pre><code>svn log $SVN_URL --xml | grep author | sort -u | perl -pe &apos;s/.*&gt;(.*?)&lt;.*/$1 = /&apos; &gt; user.txt
</code></pre>user.txtå†…å®¹å¦‚ä¸‹ï¼š<pre><code>dev1_name =
dev2_name =
</code></pre>å› ä¸ºsvnåªæœ‰ç”¨æˆ·åï¼Œè€Œgitéœ€è¦æä¾›ç”¨æˆ·åå’Œé‚®ç®±ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸‹ç”¨æˆ·è½¬æ¢ã€‚<pre><code>ä¿®æ”¹ä¸Šè¿°å‘½ä»¤å¾—åˆ°çš„user.txtå¦‚ä¸‹ï¼š
dev1_name = dev1_name&lt;dev1_email&gt;
dev2_name = dev2_name&lt;dev2_email&gt;
</code></pre></li>
<li>ä½¿ç”¨git svn clonedä»£ç åº“åˆ°æœ¬åœ°ï¼š<pre><code>git svn clone $SVN_URL --no-metadata --authors-file=user.txt -s
</code></pre></li>
<li>è°ƒæ•´æœ¬åœ°åº“ç›®å½•ç»“æ„ï¼š<pre><code>cd $project_dir
mv .git/refs/remotes/origin/tags/$tags_name .git/refs/tags/
mv .git/refs/remotes/origin/$branches_name .git/refs/heads/
rm -rf .git/refs/remotes/origin
</code></pre></li>
<li>ä¸Šä¼ æœ¬åœ°åº“åˆ°remoteä»“åº“ï¼š<pre><code>git remote add origin $GIT_URL
git push origin --all
git push origin --tags
</code></pre></li>
</ol>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS:"></a>PS:</h3><ol>
<li>å¦‚æœsvnå†å²è®°å½•å¤ªå¤šï¼Œè€Œä¸”å¹¶ä¸éœ€è¦å¾ˆä¹…ä¹‹å‰çš„ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä»æŒ‡å®šç‰ˆæœ¬è¿›è¡Œè½¬æ¢ã€‚<pre><code>git svn clone $SVN_URL -r $æŒ‡å®šç‰ˆæœ¬:HEAD
</code></pre></li>
<li>è¾ƒæ–°ç‰ˆæœ¬çš„gitéƒ½åŸç”Ÿå¸¦äº† git svnå‘½ä»¤ï¼Œå¦‚æœä½ ä½¿ç”¨çš„gitç‰ˆæœ¬æ²¡æœ‰æ­¤å‘½ä»¤ï¼Œå»ºè®®å‡çº§æ–°ç‰ˆgitæˆ–è€…å•ç‹¬å®‰è£…git-svnå‘½ä»¤ã€‚</li>
<li>git cloneå‘½ä»¤æ‰§è¡Œæ—¶é—´ä¸»è¦å’Œ åŸSVNåº“å¤§å°ã€logå¤šå°‘æœ‰å…³ã€‚</li>
<li>svnè¿ç§»gitåéœ€è¦æ³¨æ„gitä¸æ”¯æŒç©ºç›®å½•ï¼Œéœ€è¦ä½¿ç”¨åœ¨ç©ºç›®å½•å¢åŠ éšè—æ–‡ä»¶æ¥ä¸Šä¼ ï¼Œé€šå¸¸ä½¿ç”¨.gitkeepæ–‡ä»¶ã€‚</li>
<li>å¦‚æœåŸSVNåº“ç»“æ„ä¸æ˜¯è§„èŒƒçš„branchesã€tagsã€trunkç»“æ„<pre><code>git svn clone $SVN_URL --branches=&lt;branches_subdir&gt; --tags=&lt;tags_subdir&gt; --trunk=&lt;trunk_subdir&gt;
å¦‚æœæ²¡æœ‰tagsçš„è¯--tagså¯ä»¥ä¸å†™ï¼ŒbranchesåŒç†ï¼›subdirå†™ç›¸å¯¹è·¯å¾„å³å¯
</code></pre> ä¸Šé¢ä½¿ç”¨çš„-så‚æ•°è¡¨ç¤ºçš„æ˜¯â€“stdlayouté€‚åˆæ ‡å‡†ç»“æ„çš„SVNé¡¹ç›®ã€‚</li>
</ol>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/62558/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/posts/35560/"
                            aria-label=": gitlab psql: undefined symbol: PQconnectdbParams"
                        >
                            gitlab psql: undefined symbol: PQconnectdbParams
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-01-02T14:48:04+08:00">
	
		    Jan 02, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å…¬å¸æ‹†åˆ†å­å…¬å¸ï¼Œéœ€è¦æŠŠç°æœ‰Gitlabä¹Ÿåˆ†ç¦»å‡ºæ¥ã€‚</p>
<h4 id="æ­å»ºç¯å¢ƒï¼š"><a href="#æ­å»ºç¯å¢ƒï¼š" class="headerlink" title="æ­å»ºç¯å¢ƒï¼š"></a>æ­å»ºç¯å¢ƒï¼š</h4><ul>
<li>centos6.5</li>
<li>gitlab8.8.5</li>
</ul>
<h3 id="æ­å»ºæ–¹æ³•ï¼š"><a href="#æ­å»ºæ–¹æ³•ï¼š" class="headerlink" title="æ­å»ºæ–¹æ³•ï¼š"></a>æ­å»ºæ–¹æ³•ï¼š</h3><ul>
<li>Omnibus package installation</li>
</ul>
<h3 id="é‡åˆ°é—®é¢˜ï¼š"><a href="#é‡åˆ°é—®é¢˜ï¼š" class="headerlink" title="é‡åˆ°é—®é¢˜ï¼š"></a>é‡åˆ°é—®é¢˜ï¼š</h3><p>å®‰è£…å®Œæˆï¼Œæ‰§è¡Œ #gitlab-ctl reconfigure æŠ¥é”™å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[execute] /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line">[execute] /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line">Error executing action `run` on resource &apos;execute[create gitlab database user]&apos;</span><br><span class="line">================================================================================</span><br><span class="line"></span><br><span class="line">Mixlib::ShellOut::ShellCommandFailed</span><br><span class="line">------------------------------------</span><br><span class="line">Expected process to exit with [0], but received &apos;127&apos;</span><br><span class="line">---- Begin output of /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; ----</span><br><span class="line">STDOUT:</span><br><span class="line">STDERR: /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line">---- End output of /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; ----</span><br><span class="line">Ran /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; returned 127</span><br></pre></td></tr></table></figure></p>
<h3 id="é—®é¢˜åˆ†æï¼š"><a href="#é—®é¢˜åˆ†æï¼š" class="headerlink" title="é—®é¢˜åˆ†æï¼š"></a>é—®é¢˜åˆ†æï¼š</h3><p>å› ä¸ºæˆ‘çš„centosæœåŠ¡å™¨ä¸Šé¢å·²ç»è£…äº†postgresqlçš„8.4.18ç‰ˆæœ¬ï¼›<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab0 ~]# rpm -qa|grep postgres</span><br><span class="line">postgresql-8.4.18-1.el6_4.x86_64</span><br><span class="line">postgresql-devel-8.4.18-1.el6_4.x86_64</span><br><span class="line">postgresql-libs-8.4.18-1.el6_4.x86_64</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨/opt/gitlab/embedded/bin/psqlçš„æ—¶å€™æ‰¾ä¸åˆ°å¯¹åº”çš„åº“(/opt/gitlab/embedded/lib/postgresql)ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•1"><a href="#è§£å†³æ–¹æ³•1" class="headerlink" title="è§£å†³æ–¹æ³•1:"></a>è§£å†³æ–¹æ³•1:</h3><p>å¸è½½postgresql-8.4.18,å¸è½½gitlab,ç„¶åé‡æ–°å®‰è£…gitlabã€‚</p>
<p>å¸è½½gitlabæ–¹æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo gitlab-ctl stop</span><br><span class="line">sudo gitlab-ctl uninstall</span><br><span class="line">sudo gitlab-ctl cleanse</span><br><span class="line">sudo rm -rf /opt/gitlab</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£å†³æ–¹æ³•2"><a href="#è§£å†³æ–¹æ³•2" class="headerlink" title="è§£å†³æ–¹æ³•2:"></a>è§£å†³æ–¹æ³•2:</h3><p>å¢åŠ gitlabå¸¦çš„psqlæ‰€éœ€libè·¯å¾„åˆ°ç³»ç»ŸLD_LIBRARY_PATH<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/profile</span><br><span class="line"></span><br><span class="line">export LD_LIBRARY_PATH=/opt/gitlab/embedded/lib:/tmp/product.......</span><br><span class="line"></span><br><span class="line"># source /etc/profile</span><br><span class="line"></span><br><span class="line"># echo $LD_LIBRARY_PATH</span><br><span class="line"></span><br><span class="line">/opt/gitlab/embedded/lib:/tmp/product.......</span><br></pre></td></tr></table></figure></p>
<p>PSï¼š</p>
<ol>
<li>å¢åŠ /opt/gitlab/embedded/libè·¯å¾„åˆ°$LD_LIBRARY_PATHæœ€å‰é¢ï¼Œå› ä¸ºæ˜¯æŒ‰é¡ºåºåŠ è½½è·¯å¾„ï¼Œæ‰€ä»¥å¦‚æœåŠ åˆ°æœ€åé¢è¿˜æ˜¯ä¸èƒ½æˆåŠŸã€‚</li>
<li>è·¯å¾„ä¹‹é—´ä½¿ç”¨:åˆ†éš”</li>
</ol>
<p>ç„¶åå†æ‰§è¡Œ#gitlab-ctl reconfigureï¼Œå³å¯æˆåŠŸã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab Reconfigured!</span><br></pre></td></tr></table></figure></p>
<p>æŸ¥çœ‹postgresqlç‰ˆæœ¬:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab0 ~]# /opt/gitlab/embedded/bin/psql --version</span><br><span class="line">psql (PostgreSQL) 9.2.16</span><br><span class="line">[root@gitlab0 ~]# psql --version</span><br><span class="line">psql (PostgreSQL) 8.4.18</span><br></pre></td></tr></table></figure></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p><a href="http://dreamlikes.cn/archives/78" target="_blank" rel="noopener">http://dreamlikes.cn/archives/78</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/posts/35560/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/archives/page/2/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 3</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Weilong. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Weilong</h4>
        
            <div id="about-card-bio"> <ul> Write something about work and life: <ul class="nav pull-left"> <li align="left">Project management</li> <li align="left">Configuration management</li> <li align="left">Process improvement</li> <li align="left">Continuous deploy</li> <li align="left">Python program</li> </ul><br></ul> </div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>PM</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Shenzhen
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->





    </body>
</html>
