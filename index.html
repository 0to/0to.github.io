
<!DOCTYPE html>
<html lang="en,zh-cn,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Just Do IT">
    <title>Just Do IT</title>
    <meta name="author" content="Weilong">
    
    
        <link rel="icon" href="https://0to.github.io/assets/images/owl.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"https://0to.github.io","author":{"@type":"Person","name":"Weilong","sameAs":["https://github.com/0to","https://cn.linkedin.com/in/é¾™-å¨-73303298"],"image":"owl.png"},"name":"Just Do IT","description":"å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥","url":"https://0to.github.io"}</script>
    <meta name="description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥">
<meta property="og:type" content="blog">
<meta property="og:title" content="Just Do IT">
<meta property="og:url" content="https://0to.github.io/index.html">
<meta property="og:site_name" content="Just Do IT">
<meta property="og:description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Just Do IT">
<meta name="twitter:description" content="å°å¼Ÿè¯»è¿‡ä¸¤å¹´ä¹¦ï¼Œå°˜ä¸–ä¸­ä¸€ä¸ªè¿·é€”å°ä¹¦ç«¥">
    
    
        
    
    
        <meta property="og:image" content="https://0to.github.io/assets/images/owl.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-1udptkpril81ozu8ifd8zpujn7ipu7lefxsiu5gxx0dpnzntdx6dusvki3ao.min.css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-85893233-1', 'auto');
        ga('send', 'pageview');
    </script>


    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?df67fb3fb590b0948b00d723f7301ba1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Just Do IT</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Weilong</h4>
                
                    <h5 class="sidebar-profile-bio"> <ul> <li>Write something about work and life: <ul class="nav pull-left"> <li>Configuration management</li> <li>Process improvement</li> <li>Continuous deploy</li> <li>Python program</li> </ul> </li> </ul> </h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/0to" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://cn.linkedin.com/in/é¾™-å¨-73303298" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/20481/">
                            ã€ç½®é¡¶ã€‘äº¤æµå’Œåé¦ˆ
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-05-04T17:12:24+08:00">
	
		    May 04, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/top/">top</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="äº¤æµå’Œåé¦ˆï¼š"><a href="#äº¤æµå’Œåé¦ˆï¼š" class="headerlink" title="äº¤æµå’Œåé¦ˆï¼š"></a>äº¤æµå’Œåé¦ˆï¼š</h3><pre><code>- æ–‡ç« çš„é”™è¯¯ã€ç–‘é—®
- è®¨è®ºé‡åˆ°çš„é—®é¢˜
- è¿›è¡ŒæŠ€æœ¯äº¤æµ
</code></pre><h3 id="æ–¹å‘ï¼š"><a href="#æ–¹å‘ï¼š" class="headerlink" title="æ–¹å‘ï¼š"></a>æ–¹å‘ï¼š</h3><pre><code>- é…ç½®ç®¡ç†
- æŒç»­äº¤ä»˜
- è¿‡ç¨‹æ”¹è¿›
- å·¥ç¨‹æ•ˆç‡
</code></pre><h3 id="è¯„è®ºï¼š"><a href="#è¯„è®ºï¼š" class="headerlink" title="è¯„è®ºï¼š"></a>è¯„è®ºï¼š</h3><pre><code>- æœ¬ç«™æ¥å…¥äº†Disqusï¼Œæ¬¢è¿è¯¸å›commentã€‚
- å› ä¸ºGFWçš„åŸå› ï¼Œä¸ç¿»å¢™çš„è¯æ²¡æ³•ä½¿ç”¨ã€‚
</code></pre><h3 id="è”ç³»æ–¹å¼ï¼š"><a href="#è”ç³»æ–¹å¼ï¼š" class="headerlink" title="è”ç³»æ–¹å¼ï¼š"></a>è”ç³»æ–¹å¼ï¼š</h3><p>ğŸ“§EmailğŸ“§:<br>å›½å†…ï¼š<a href="mailto:wwl1991@yeah.net" target="_blank" rel="noopener">wwl1991@yeah.net</a><br>æµ·å¤–ï¼š<a href="mailto:wwl199110@gmail.com" target="_blank" rel="noopener">wwl199110@gmail.com</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/20481/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/27558/">
                            Nexus3æ‰¹é‡å¯¼å…¥jaråŒ…
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-03-28T19:19:17+08:00">
	
		    Mar 28, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li><a href="https://support.sonatype.com/hc/en-us/articles/115006744008-How-can-I-programmatically-upload-an-artifact-into-Nexus-3-" target="_blank" rel="noopener">How can I programmatically upload an artifact into Nexus 3?</a></li>
<li><a href="https://gist.github.com/DarthHater/a4f2738e3bd40d242db22633b59dfd63" target="_blank" rel="noopener">Nexus Repository Import Script
</a></li>
</ul>
<h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å·²ç»æ­å»ºNexus3.6.0ï¼Œéœ€è¦è¿ç§»åŸæœ‰ ä¸¤ä¸ª nexus2ä¸Šçš„jaråŒ… åˆ°nexus3ç»Ÿä¸€ç®¡ç†ã€‚</p>
<h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><ul>
<li>Nexus2.x æœåŠ¡å™¨ç›´æ¥å­˜å‚¨jaråŒ…</li>
<li>Nexus3.x æœåŠ¡å™¨å­˜å‚¨çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶</li>
<li>æ‰€ä»¥ä¸èƒ½é€šè¿‡ copyåŸNexus2.xæœåŠ¡å™¨ä¸Šçš„ repositoriesç›®å½• åˆ°nexus3.Xï¼Œåˆ·æ–°indexæ–¹å¼æ¥è¿ç§»ã€‚</li>
</ul>
<h3 id="è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š"><a href="#è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š"></a>è¿ç§»å¯¼å…¥æ–¹æ³•ï¼š</h3><ol>
<li><p><a href="https://help.sonatype.com/display/NXRM3/Upgrading" target="_blank" rel="noopener">å®˜æ–¹Upgrading</a><br> å…·ä½“å®æ–½å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡blogã€‚<br> è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼š</p>
<pre><code>- éœ€è¦åŸnexusç‰ˆæœ¬ä¸º2.14.xç‰ˆæœ¬
- æ¯ä¸ªnexus2å¯¼å…¥éƒ½ä¼šåœ¨nexus3ä¸Šé¢éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä¸é€‚åˆæœ‰å¤šä¸ªnexus2ç»Ÿä¸€è¿ç§»åˆ°ä¸€ä¸ªnexus3
</code></pre></li>
<li><p>mvn deployå‘½ä»¤ä¸Šä¼ <br> å¦‚æœåŸnexus2å¾…è¿ç§»çš„jaråŒ…å¹¶ä¸å¤šï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</p>
<pre><code>1. åªä¸Šä¼ jarï¼Œè‡ªåŠ¨ç”Ÿæˆpom.xml ï¼ˆç‹¬ç«‹jarï¼Œpomä¸éœ€è¦ä¾èµ–å…¶å®ƒï¼‰
mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -Dpackaging=jar -DrepositoryId=nexus -Durl=http://$ip:8081/repository/$repository_name -Dfile=$path/XX.jar

2. ä¸Šä¼ jar å’Œ pom.xml (pomé‡Œé¢æœ‰ä¾èµ–)
mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -DgeneratePom=false -Dpackaging=jar -DrepositoryId=nexus -Durl=http://$ip:8081/repository/$repository_name -DpomFile=$path/pom.xml -Dfile=$path/XX.jar
</code></pre><p> éœ€è¦æ³¨æ„ï¼š</p>
<pre><code>- å‘½ä»¤é‡Œé¢-DrepositoryId=nexuså¯¹åº”çš„æ˜¯æœ¬æœºmvn settings.xmlæ–‡ä»¶é…ç½®&lt;server&gt; &lt;id&gt;
- å†™è„šæœ¬å°è£…ä¸Šé¢å‘½ä»¤å®ç°æ‰¹é‡è¿ç§»
</code></pre></li>
<li><p>httpåè®®ä¸Šä¼ <br> ç›´æ¥ä½¿ç”¨http put æ–‡ä»¶åˆ°/repository/$repo-id/$path-of-file</p>
<pre><code>curl -v -u admin:admin123 --upload-file pom.xml http://$ip:8081/repository/maven-releases/org/foo/1.0/foo-1.0.pom
</code></pre><p> æˆ‘ä»¬éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼šjarå’Œpom.xml</p>
<p> åˆ›å»º mavenimport.sh è„šæœ¬å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># Get command line params</span><br><span class="line">while getopts &quot;:r:u:p:&quot; opt; do</span><br><span class="line">    case $opt in</span><br><span class="line">        r) REPO_URL=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        u) USERNAME=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        p) PASSWORD=&quot;$OPTARG&quot;</span><br><span class="line">        ;;</span><br><span class="line">        esac</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">find . -type f -not -path &apos;*/\.*&apos; -not -path &apos;*/\^archetype\-catalog\.xml*&apos; -not -path &apos;*/\^maven\-metadata\-local*\.xml&apos; -not -path &apos;*/\^maven\-metadata\-deployment*\.xml&apos; -exec curl -u $USERNAME:$PASSWORD -X PUT -v -T &#123;&#125; $REPO_URL&#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p> ç™»é™†åˆ°Nexus2.xæœåŠ¡å™¨æ‰§è¡Œ</p>
<pre><code>cd $releases_dir
cp $path/mavenimport.sh .
sh mavenimport.sh -u admin -p admin123 -r http://$ip:8081/repository/$release_repository_name

cd $snapshots_dir
cp $path/mavenimport.sh .
sh mavenimport.sh -u admin -p admin123 -r http://$ip:8081/repository/$snapshots_repository_name
</code></pre><p> éœ€è¦æ³¨æ„ï¼š</p>
<pre><code>- ä¸Šé¢å‘½ä»¤é‡Œé¢ -u admin -p admin123 è¯·æ›´æ¢æˆnexusç®¡ç†å‘˜å¸æˆ·å¯†ç  ï¼ˆnexusé»˜è®¤ç®¡ç†å‘˜/å¯†ç  admin/admin123ï¼‰
- ä¸Šé¢å‘½ä»¤é‡Œé¢ $releases_dir æ˜¯æŒ‡Nexus2.xæœåŠ¡å™¨ä¸Šå­˜å‚¨releasesä»“åº“è·¯å¾„ã€‚
- ä¸Šé¢å‘½ä»¤é‡Œé¢ $snapshots_dir æ˜¯æŒ‡Nexus2.xæœåŠ¡å™¨ä¸Šå­˜å‚¨snapshotsä»“åº“è·¯å¾„ã€‚
- å¦‚æœä¸åˆ‡æ¢åˆ°ä¸Šé¢ç›®å½•é‡Œé¢ï¼Œé‚£ä¹ˆä¸Šä¼ çš„jaråŒ… group_idä¼šæœ‰é—®é¢˜ã€‚
</code></pre></li>
</ol>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/27558/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/62558/">
                            svnä»£ç åº“è¿ç§»åˆ°git
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-03-07T10:30:04+08:00">
	
		    Mar 07, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å…¬å¸ä¸»è¦ä½¿ç”¨gitä½œä¸ºä»£ç ç®¡ç†ä»“åº“ï¼Œç°éœ€è¦æŠŠéƒ¨åˆ†ä½¿ç”¨svnç®¡ç†çš„ä»£ç è¿ç§»åˆ°gitã€‚</p>
<h3 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h3><p>éœ€è¦ä¿ç•™æ‰€æœ‰ branchesã€ä¸»å¹²ã€tagsçš„å†å²è®°å½•ã€‚</p>
<h1 id="è¿ç§»æ–¹æ³•ï¼š"><a href="#è¿ç§»æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»æ–¹æ³•ï¼š"></a>è¿ç§»æ–¹æ³•ï¼š</h1><p>ä½¿ç”¨gitå®˜æ–¹æä¾›çš„git svnå‘½ä»¤</p>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼š<a href="https://git-scm.com/docs/git-svn" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<h3 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h3><ul>
<li>OS: macOS 10.13.3</li>
<li>SVNï¼š1.9.4</li>
<li>GITï¼š2.16.2</li>
</ul>
<h1 id="è¿ç§»æ­¥éª¤ï¼š"><a href="#è¿ç§»æ­¥éª¤ï¼š" class="headerlink" title="è¿ç§»æ­¥éª¤ï¼š"></a>è¿ç§»æ­¥éª¤ï¼š</h1><ol>
<li>è·å–æŒ‡å®šsvnä»£ç åº“æ¶‰åŠçš„å¼€å‘åŒå­¦åå•å¹¶è½¬æ¢ï¼š<pre><code>svn log $SVN_URL --xml | grep author | sort -u | perl -pe &apos;s/.*&gt;(.*?)&lt;.*/$1 = /&apos; &gt; user.txt
</code></pre>user.txtå†…å®¹å¦‚ä¸‹ï¼š<pre><code>dev1_name =
dev2_name =
</code></pre>å› ä¸ºsvnåªæœ‰ç”¨æˆ·åï¼Œè€Œgitéœ€è¦æä¾›ç”¨æˆ·åå’Œé‚®ç®±ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸‹ç”¨æˆ·è½¬æ¢ã€‚<pre><code>ä¿®æ”¹ä¸Šè¿°å‘½ä»¤å¾—åˆ°çš„user.txtå¦‚ä¸‹ï¼š
dev1_name = dev1_name&lt;dev1_email&gt;
dev2_name = dev2_name&lt;dev2_email&gt;
</code></pre></li>
<li>ä½¿ç”¨git svn clonedä»£ç åº“åˆ°æœ¬åœ°ï¼š<pre><code>git svn clone $SVN_URL --no-metadata --authors-file=user.txt -s
</code></pre></li>
<li>è°ƒæ•´æœ¬åœ°åº“ç›®å½•ç»“æ„ï¼š<pre><code>cd $project_dir
mv .git/refs/remotes/origin/tags/$tags_name .git/refs/tags/
mv .git/refs/remotes/origin/$branches_name .git/refs/heads/
rm -rf .git/refs/remotes/origin
</code></pre></li>
<li>ä¸Šä¼ æœ¬åœ°åº“åˆ°remoteä»“åº“ï¼š<pre><code>git remote add origin $GIT_URL
git push origin --all
git push origin --tags
</code></pre></li>
</ol>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS:"></a>PS:</h3><ol>
<li>å¦‚æœsvnå†å²è®°å½•å¤ªå¤šï¼Œè€Œä¸”å¹¶ä¸éœ€è¦å¾ˆä¹…ä¹‹å‰çš„ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä»æŒ‡å®šç‰ˆæœ¬è¿›è¡Œè½¬æ¢ã€‚<pre><code>git svn clone $SVN_URL -r $æŒ‡å®šç‰ˆæœ¬:HEAD
</code></pre></li>
<li>è¾ƒæ–°ç‰ˆæœ¬çš„gitéƒ½åŸç”Ÿå¸¦äº† git svnå‘½ä»¤ï¼Œå¦‚æœä½ ä½¿ç”¨çš„gitç‰ˆæœ¬æ²¡æœ‰æ­¤å‘½ä»¤ï¼Œå»ºè®®å‡çº§æ–°ç‰ˆgitæˆ–è€…å•ç‹¬å®‰è£…git-svnå‘½ä»¤ã€‚</li>
<li>git cloneå‘½ä»¤æ‰§è¡Œæ—¶é—´ä¸»è¦å’Œ åŸSVNåº“å¤§å°ã€logå¤šå°‘æœ‰å…³ã€‚</li>
<li>svnè¿ç§»gitåéœ€è¦æ³¨æ„gitä¸æ”¯æŒç©ºç›®å½•ï¼Œéœ€è¦ä½¿ç”¨åœ¨ç©ºç›®å½•å¢åŠ éšè—æ–‡ä»¶æ¥ä¸Šä¼ ï¼Œé€šå¸¸ä½¿ç”¨.gitkeepæ–‡ä»¶ã€‚</li>
<li>å¦‚æœåŸSVNåº“ç»“æ„ä¸æ˜¯è§„èŒƒçš„branchesã€tagsã€trunkç»“æ„<pre><code>git svn clone $SVN_URL --branches=&lt;branches_subdir&gt; --tags=&lt;tags_subdir&gt; --trunk=&lt;trunk_subdir&gt;
å¦‚æœæ²¡æœ‰tagsçš„è¯--tagså¯ä»¥ä¸å†™ï¼ŒbranchesåŒç†ï¼›subdirå†™ç›¸å¯¹è·¯å¾„å³å¯
</code></pre> ä¸Šé¢ä½¿ç”¨çš„-så‚æ•°è¡¨ç¤ºçš„æ˜¯â€“stdlayouté€‚åˆæ ‡å‡†ç»“æ„çš„SVNé¡¹ç›®ã€‚</li>
</ol>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/62558/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/35560/">
                            gitlab psql: undefined symbol: PQconnectdbParams
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-01-02T14:48:04+08:00">
	
		    Jan 02, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å…¬å¸æ‹†åˆ†å­å…¬å¸ï¼Œéœ€è¦æŠŠç°æœ‰Gitlabä¹Ÿåˆ†ç¦»å‡ºæ¥ã€‚</p>
<h4 id="æ­å»ºç¯å¢ƒï¼š"><a href="#æ­å»ºç¯å¢ƒï¼š" class="headerlink" title="æ­å»ºç¯å¢ƒï¼š"></a>æ­å»ºç¯å¢ƒï¼š</h4><ul>
<li>centos6.5</li>
<li>gitlab8.8.5</li>
</ul>
<h3 id="æ­å»ºæ–¹æ³•ï¼š"><a href="#æ­å»ºæ–¹æ³•ï¼š" class="headerlink" title="æ­å»ºæ–¹æ³•ï¼š"></a>æ­å»ºæ–¹æ³•ï¼š</h3><ul>
<li>Omnibus package installation</li>
</ul>
<h3 id="é‡åˆ°é—®é¢˜ï¼š"><a href="#é‡åˆ°é—®é¢˜ï¼š" class="headerlink" title="é‡åˆ°é—®é¢˜ï¼š"></a>é‡åˆ°é—®é¢˜ï¼š</h3><p>å®‰è£…å®Œæˆï¼Œæ‰§è¡Œ #gitlab-ctl reconfigure æŠ¥é”™å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[execute] /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line">[execute] /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line">Error executing action `run` on resource &apos;execute[create gitlab database user]&apos;</span><br><span class="line">================================================================================</span><br><span class="line"></span><br><span class="line">Mixlib::ShellOut::ShellCommandFailed</span><br><span class="line">------------------------------------</span><br><span class="line">Expected process to exit with [0], but received &apos;127&apos;</span><br><span class="line">---- Begin output of /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; ----</span><br><span class="line">STDOUT:</span><br><span class="line">STDERR: /opt/gitlab/embedded/bin/psql: symbol lookup error: /opt/gitlab/embedded/bin/psql: undefined symbol: PQconnectdbParams</span><br><span class="line">---- End output of /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; ----</span><br><span class="line">Ran /opt/gitlab/embedded/bin/psql --port 5432 -h /var/opt/gitlab/postgresql -d template1 -c &quot;CREATE USER gitlab&quot; returned 127</span><br></pre></td></tr></table></figure></p>
<h3 id="é—®é¢˜åˆ†æï¼š"><a href="#é—®é¢˜åˆ†æï¼š" class="headerlink" title="é—®é¢˜åˆ†æï¼š"></a>é—®é¢˜åˆ†æï¼š</h3><p>å› ä¸ºæˆ‘çš„centosæœåŠ¡å™¨ä¸Šé¢å·²ç»è£…äº†postgresqlçš„8.4.18ç‰ˆæœ¬ï¼›<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab0 ~]# rpm -qa|grep postgres</span><br><span class="line">postgresql-8.4.18-1.el6_4.x86_64</span><br><span class="line">postgresql-devel-8.4.18-1.el6_4.x86_64</span><br><span class="line">postgresql-libs-8.4.18-1.el6_4.x86_64</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨/opt/gitlab/embedded/bin/psqlçš„æ—¶å€™æ‰¾ä¸åˆ°å¯¹åº”çš„åº“(/opt/gitlab/embedded/lib/postgresql)ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•1"><a href="#è§£å†³æ–¹æ³•1" class="headerlink" title="è§£å†³æ–¹æ³•1:"></a>è§£å†³æ–¹æ³•1:</h3><p>å¸è½½postgresql-8.4.18,å¸è½½gitlab,ç„¶åé‡æ–°å®‰è£…gitlabã€‚</p>
<p>å¸è½½gitlabæ–¹æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo gitlab-ctl stop</span><br><span class="line">sudo gitlab-ctl uninstall</span><br><span class="line">sudo gitlab-ctl cleanse</span><br><span class="line">sudo rm -rf /opt/gitlab</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£å†³æ–¹æ³•2"><a href="#è§£å†³æ–¹æ³•2" class="headerlink" title="è§£å†³æ–¹æ³•2:"></a>è§£å†³æ–¹æ³•2:</h3><p>å¢åŠ gitlabå¸¦çš„psqlæ‰€éœ€libè·¯å¾„åˆ°ç³»ç»ŸLD_LIBRARY_PATH<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/profile</span><br><span class="line"></span><br><span class="line">export LD_LIBRARY_PATH=/opt/gitlab/embedded/lib:/tmp/product.......</span><br><span class="line"></span><br><span class="line"># source /etc/profile</span><br><span class="line"></span><br><span class="line"># echo $LD_LIBRARY_PATH</span><br><span class="line"></span><br><span class="line">/opt/gitlab/embedded/lib:/tmp/product.......</span><br></pre></td></tr></table></figure></p>
<p>PSï¼š</p>
<ol>
<li>å¢åŠ /opt/gitlab/embedded/libè·¯å¾„åˆ°$LD_LIBRARY_PATHæœ€å‰é¢ï¼Œå› ä¸ºæ˜¯æŒ‰é¡ºåºåŠ è½½è·¯å¾„ï¼Œæ‰€ä»¥å¦‚æœåŠ åˆ°æœ€åé¢è¿˜æ˜¯ä¸èƒ½æˆåŠŸã€‚</li>
<li>è·¯å¾„ä¹‹é—´ä½¿ç”¨:åˆ†éš”</li>
</ol>
<p>ç„¶åå†æ‰§è¡Œ#gitlab-ctl reconfigureï¼Œå³å¯æˆåŠŸã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab Reconfigured!</span><br></pre></td></tr></table></figure></p>
<p>æŸ¥çœ‹postgresqlç‰ˆæœ¬:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab0 ~]# /opt/gitlab/embedded/bin/psql --version</span><br><span class="line">psql (PostgreSQL) 9.2.16</span><br><span class="line">[root@gitlab0 ~]# psql --version</span><br><span class="line">psql (PostgreSQL) 8.4.18</span><br></pre></td></tr></table></figure></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p><a href="http://dreamlikes.cn/archives/78" target="_blank" rel="noopener">http://dreamlikes.cn/archives/78</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/35560/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/61445/">
                            ä½¿ç”¨OpenGrokæŸ¥è¯¢æ¶‰åŠå…³é”®å­—ä»£ç åº“
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-11-27T16:08:37+08:00">
	
		    Nov 27, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>devå‡†å¤‡æ›´æ–°æŸä¸ªåŸºç¡€æ•°æ®åº“è¡¨ç»“æ„ï¼Œä¸ºäº†è¯„ä¼°å½±å“èŒƒå›´å’Œåç»­é€šçŸ¥åä½œï¼Œéœ€è¦æ‰¾å‡ºä½¿ç”¨æ­¤è¡¨çš„ä»£ç åº“ã€‚</p>
<h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><ol>
<li>æŸ¥è¯¢æ•°æ®åº“çš„è¿æ¥IPï¼Œæ ¹æ®IPæŸ¥è¯¢éƒ¨ç½²åœ¨ä¸Šé¢çš„æœåŠ¡ï¼Œæ ¹æ®æœåŠ¡æ‰¾å¯¹åº”ä»£ç åº“ã€‚<ul>
<li>éš¾ç‚¹ï¼š<ul>
<li>å¹¶ä¸æ˜¯æ‰€æœ‰æœåŠ¡éƒ½ä¼šå®æ—¶è¿æ¥æ•°æ®åº“ï¼Œå¯èƒ½ä¼šæ¼æ‰ï¼›</li>
<li>æœåŠ¡å™¨ä¸Šé¢éƒ¨ç½²çš„æœåŠ¡å¤ªå¤šï¼Œè¿˜éœ€è¦å†åšè¿‡æ»¤ã€‚</li>
</ul>
</li>
<li>ç»¼ä¸Šï¼Œè¿™ä¸ªæ€è·¯å¦å®šã€‚</li>
</ul>
</li>
<li>ç›´æ¥é€šè¿‡å…³é”®å­—æŸ¥è¯¢ä»£ç åº“æºç æ¥å®šä½ã€‚<ul>
<li>éš¾ç‚¹ï¼š<ul>
<li>éœ€è¦æ‹¥æœ‰å¤§èŒƒå›´çš„ä»£ç åº“æƒé™</li>
<li>å¤šç›®å½•æ–‡ä»¶æŸ¥è¯¢æ¶‰åŠå…³é”®å­—æ–‡ä»¶</li>
</ul>
</li>
<li>è§£å†³æ–¹æ¡ˆï¼š<ul>
<li>ä½œä¸ºå…¬å¸SCMæƒé™ä¸æ˜¯é—®é¢˜</li>
<li>ä½¿ç”¨OpenGrokæ¥åšå…³é”®å­—æŸ¥è¯¢</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h2><ul>
<li>OpenGrokï¼š<a href="http://opengrok.github.io/OpenGrok/" target="_blank" rel="noopener">å®˜æ–¹ç½‘ç«™</a></li>
</ul>
<h2 id="å®æ–½æ­¥éª¤ï¼š"><a href="#å®æ–½æ­¥éª¤ï¼š" class="headerlink" title="å®æ–½æ­¥éª¤ï¼š"></a>å®æ–½æ­¥éª¤ï¼š</h2><ol>
<li><p>æ­å»ºOpenGrokï¼š</p>
<ul>
<li>å®‰è£…jdk-1.8</li>
<li>å®‰è£…tomcat-8</li>
<li><p>å®‰è£…Exuberant Ctags <a href="http://ctags.sourceforge.net/" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ tarÂ zxvfÂ ctags-5.8.tar.gz</span><br><span class="line">$ cdÂ ctags-5.8/</span><br><span class="line">$ ./configure</span><br><span class="line">$ make</span><br><span class="line">$ make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…opengrok <a href="https://github.com/OpenGrok/OpenGrok/releases" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a>  | <a href="https://github.com/OpenGrok/OpenGrok/wiki/How-to-install-OpenGrok" target="_blank" rel="noopener">å®‰è£…ä½¿ç”¨wiki</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ tarÂ zxvfÂ opengrok-1.1-rc16.tar.gz</span><br><span class="line">$ cdÂ opengrok-1.1-rc16/bin/</span><br><span class="line">$ OPENGROK_TOMCAT_BASE=/path/to/my/tomcat/install ./OpenGrok deploy</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¸‹è½½ä»£ç </p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªå…¬å…±ä»£ç åº“å­˜æ”¾ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p /root/wwl/code/svn</span><br><span class="line">$ mkdir -p /root/wwl/code/git</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¹æ®éœ€è¦ä¸‹è½½svnä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /root/wwl/code/svn</span><br><span class="line">$ svn checkout svn_urls</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ¹æ®éœ€è¦ä¸‹è½½gitä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /root/wwl/code/git</span><br><span class="line">$ git clone git_urls</span><br></pre></td></tr></table></figure>
</li>
<li><p>PS:å¦‚æœè¦æƒ³æŸ¥è¯¢æ‰€æœ‰åˆ†æ”¯ä»£ç </p>
<ul>
<li>svnï¼šç›´æ¥checkout åŒ…å«branchesç›®å½•urlå³å¯ï¼›</li>
<li>gitï¼šéœ€è¦cloneå¤šæ¬¡git_urlåˆ°ä¸åŒç›®å½•ï¼Œç„¶åcdåˆ°å„è‡ªç›®å½•æ‰§è¡Œgit checkout branch_nameï¼›</li>
<li>å»ºè®®åªä¸‹è½½master/trunkå’Œæœ€æ–°devåˆ†æ”¯å³å¯ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>åŠ è½½OpenGrokç´¢å¼•</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./OpenGrok index &lt;absolute_path_to_your_SRC_ROOT&gt;</span><br><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">    ./OpenGrok index /root/wwl/code</span><br></pre></td></tr></table></figure>
<p> PSï¼šå¦‚æœä»£ç æ–‡ä»¶å¾ˆå¤šçš„è¯ï¼ŒåŠ è½½ç´¢å¼•ä¼šå¾ˆä¹…ã€‚æ™šä¸Šæ‰§è¡Œç¬¬äºŒå¤©æ¥çœ‹ç»“æœå§ã€‚</p>
</li>
<li><p>å…³é”®å­—æŸ¥è¯¢</p>
<ul>
<li><p>webç«¯ç™»é™†:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;HOST&gt;:&lt;PORT&gt;/source</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡ŒæŸ¥è¯¢:<br><img src="/posts/61445/OpenGrok.png" alt="logo"></p>
</li>
</ul>
</li>
</ol>
<h1 id="PSï¼š"><a href="#PSï¼š" class="headerlink" title="PSï¼š"></a>PSï¼š</h1><ol>
<li>OpenGrokè¿˜æ”¯æŒæ–‡ä»¶ç±»å‹æŸ¥è¯¢è¿‡æ»¤ç­‰åŠŸèƒ½ï¼Œå„ä½å¯ä»¥è‡ªè¡Œå°è¯•ä½¿ç”¨ï¼›</li>
<li>é™¤äº†æ•°æ®åº“è¡¨æŸ¥è¯¢ä»¥å¤–ï¼Œå¸¸è§çš„è¿˜æœ‰apiè°ƒç”¨æŸ¥è¯¢ï¼›</li>
<li>è¿™ç§æ–¹æ¡ˆæ˜¯åç½®çš„ï¼Œå¦‚æœèƒ½åœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆå’Œè¿­ä»£è¿‡ç¨‹ç§¯æç»´æŠ¤å¼€å‘æ–‡æ¡£ï¼Œå½¢æˆç³»ç»Ÿæ•´ä½“è°ƒåº¦æ¶æ„å›¾å½¢çš„è¯ï¼Œä¼šå¦æˆ‘ä»¬å¼€å‘æ›´åŠ è‡ªä¿¡ï¼›</li>
<li>å€Ÿæ­¤æœºä¼šæ¨åŠ¨å¼€å‘å›¢é˜Ÿè§„èŒƒå¼€å‘æ–‡æ¡£å’Œäº§å‡ºç³»ç»Ÿè°ƒåº¦æ¶æ„å›¾å½¢ã€‚</li>
</ol>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/61445/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/7037/">
                            nexus2.xè¿ç§»repositoryåˆ°nexus3.x
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-11-21T15:58:15+08:00">
	
		    Nov 21, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><p>å…¬å¸ä¹‹å‰ä½¿ç”¨nexus2.13.0ç‰ˆæœ¬çš„nexusï¼Œç®¡ç†æ¯•ç«Ÿæ··ä¹±ã€‚ç°æ­å»ºnexus3.6.0ç‰ˆæœ¬è¿›è¡Œè§„èŒƒç»Ÿä¸€ç®¡ç†ã€‚</p>
<p>ä¸Šç¯‡è®°å½•nexus3æ­å»ºé…ç½®è¿‡ç¨‹ï¼Œæœ¬ç¯‡è®°å½•è¿ç§»nexus2.13.0ç‰ˆæœ¬åº“åˆ°nexus3.6.0ç‰ˆæœ¬è¿‡ç¨‹ã€‚</p>
<h1 id="è¿ç§»æ€è·¯æ–¹æ³•ï¼š"><a href="#è¿ç§»æ€è·¯æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»æ€è·¯æ–¹æ³•ï¼š"></a>è¿ç§»æ€è·¯æ–¹æ³•ï¼š</h1><h3 id="è¿ç§»èŒƒå›´ï¼š"><a href="#è¿ç§»èŒƒå›´ï¼š" class="headerlink" title="è¿ç§»èŒƒå›´ï¼š"></a>è¿ç§»èŒƒå›´ï¼š</h3><table>
<thead>
<tr>
<th>ä»“åº“</th>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:right">æ˜¯å¦è¿ç§»</th>
</tr>
</thead>
<tbody>
<tr>
<td>proxy</td>
<td style="text-align:center">ä»£ç†è¿œç«¯ä»“åº“</td>
<td style="text-align:right">å·²ç»åœ¨nexus3.6.0ç‰ˆæœ¬é…ç½®å¢åŠ ï¼Œä¸éœ€è¦è¿ç§»</td>
</tr>
<tr>
<td>hosted-3rd</td>
<td style="text-align:center">æœ¬åœ°å†…éƒ¨ä»“åº“-ç¬¬ä¸‰æ–¹</td>
<td style="text-align:right">ä¹‹å‰æ²¡æœ‰ä½¿ç”¨ï¼Œä¸éœ€è¦è¿ç§»</td>
</tr>
<tr>
<td>hosted-Snapshots</td>
<td style="text-align:center">æœ¬åœ°å†…éƒ¨ä»“åº“-å¿«ç…§ç‰ˆæœ¬</td>
<td style="text-align:right">ä¹‹å‰ä½¿ç”¨æ¯”è¾ƒæ··ä¹±æ²Ÿé€šç¡®è®¤èˆå¼ƒï¼Œä¸éœ€è¦è¿ç§»</td>
</tr>
<tr>
<td>hosted-Releases</td>
<td style="text-align:center">æœ¬åœ°å†…éƒ¨ä»“åº“-ç¨³å®šç‰ˆæœ¬</td>
<td style="text-align:right">éœ€è¦è¿ç§»</td>
</tr>
</tbody>
</table>
<h3 id="è¿ç§»æ–¹æ³•ï¼š"><a href="#è¿ç§»æ–¹æ³•ï¼š" class="headerlink" title="è¿ç§»æ–¹æ³•ï¼š"></a>è¿ç§»æ–¹æ³•ï¼š</h3><p>å¦‚æœåŸæœ‰hosted-Releaseså­˜æ”¾çš„jaråŒ…ä¸å¤šçš„è¯ï¼Œå¯ä»¥è€ƒè™‘ä¸‹è½½æ‰€æœ‰jaråˆ°æœ¬åœ°ï¼Œç„¶åä½¿ç”¨å‘½ä»¤deployåˆ°nexus3.6.0ã€‚</p>
<p>ç°çŠ¶æ˜¯åŸæœ‰åº“é‡Œé¢çš„jaråŒ…å¾ˆå¤šï¼ŒgroupIdå¾ˆå¤šè€Œä¸”æ¯”è¾ƒä¸è§„èŒƒï¼ˆç›®å½•å±‚çº§å¾ˆå¤æ‚ï¼‰ã€‚</p>
<h6 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h6><p>å‡çº§æ–¹æ³•ï¼š<a href="https://help.sonatype.com/display/NXRM3/Upgrading" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<p>æ ¹æ®å®˜æ–¹å‡çº§æ–‡æ¡£è¯´æ˜nexus2.14.1ï¼ˆæˆ–è€…ä¹‹åç‰ˆæœ¬ï¼‰æ‰èƒ½ç›´å‡nexus3.xã€‚å› ä¸ºåŸæœ‰nexusç‰ˆæœ¬ä¸º2.13.0ï¼Œæ‰€æœ‰éœ€è¦å…ˆå‡çº§åˆ°2.14.xåï¼Œå†è¿ç§»åˆ°nexus3.6.0ç‰ˆæœ¬ã€‚</p>
<p>å‡çº§è·¯å¾„ä¸ºï¼š<br>nexus2.x â€“ nexus2.14.x â€“ nexus3.x</p>
<h1 id="è¿ç§»æ­¥éª¤ï¼š"><a href="#è¿ç§»æ­¥éª¤ï¼š" class="headerlink" title="è¿ç§»æ­¥éª¤ï¼š"></a>è¿ç§»æ­¥éª¤ï¼š</h1><ol>
<li>æ­å»ºnexus2.14.5<ul>
<li><a href="https://www.sonatype.com/nexus-repository-oss" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½</a> All platforms - Nexus Repository Manager OSS 2.x - bundle.zip</li>
<li>è§£å‹ç¼©ã€å®‰è£…è¿è¡Œ</li>
<li>psï¼šwindowsé‡åˆ°çš„å‘,éœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿›è¡Œcmdå®‰è£…<br><img src="/posts/7037/win1.png" alt="logo"><br><img src="/posts/7037/win2.png" alt="logo"><br><img src="/posts/7037/win3.png" alt="logo"></li>
</ul>
</li>
<li>è¿ç§»åŸæœ‰nexus2.13.0ä»“åº“åˆ°nexus2.14.5<ul>
<li>ä»“åº“å­˜æ”¾ç›®å½•ï¼šsonatype-work\nexus\storage</li>
<li>æ‹·è´åŸnexus2.13.0çš„sonatype-work\nexus\storage\releasesç›®å½•ä¸‹çš„ä¾èµ–æ–‡ä»¶</li>
<li>è¦†ç›–nexus2.14.5çš„releasesç›®å½•æ–‡ä»¶</li>
<li>é‡å¯nexus2.14.5å¹¶åˆ·æ–°ç´¢å¼•<br><img src="/posts/7037/win4.png" alt="logo"><br><img src="/posts/7037/win5.png" alt="logo"><br><img src="/posts/7037/win6.png" alt="logo"></li>
</ul>
</li>
<li>è¿ç§»nexus2.14.5ä»“åº“åˆ°nexus3.6.0<ul>
<li>åœ¨nexus2.14.5ä¸Šé¢é…ç½®Upgrade Agent<br><img src="/posts/7037/win7.png" alt="logo"><br><img src="/posts/7037/win8.png" alt="logo"></li>
<li>åœ¨nexus3.6.0ä¸Šé¢æ‰§è¡ŒUpgrade<br><img src="/posts/7037/win10.png" alt="logo"><br><img src="/posts/7037/win11.png" alt="logo"><br><img src="/posts/7037/win12.png" alt="logo"><br><img src="/posts/7037/win13.png" alt="logo"><br><img src="/posts/7037/win14.png" alt="logo"><br><img src="/posts/7037/win15.png" alt="logo"><br><img src="/posts/7037/win16.png" alt="logo"><br><img src="/posts/7037/win17.png" alt="logo"><br><img src="/posts/7037/win18.png" alt="logo"><br><img src="/posts/7037/win19.png" alt="logo"></li>
</ul>
</li>
</ol>
<h1 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h1><p>ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼ŒåŸæœ‰çš„releaseä»“åº“è¿ç§»æˆåŠŸã€‚<br><img src="/posts/7037/win20.png" alt="logo"></p>
<h3 id="ä½†æ˜¯åŒæ—¶åŸæœ‰nexusçš„Privilegesã€Rolesã€Usersä¹Ÿä¼šè¿‡æ¥ï¼Œéœ€è¦åç»­è¿›è¡Œè°ƒæ•´ã€‚"><a href="#ä½†æ˜¯åŒæ—¶åŸæœ‰nexusçš„Privilegesã€Rolesã€Usersä¹Ÿä¼šè¿‡æ¥ï¼Œéœ€è¦åç»­è¿›è¡Œè°ƒæ•´ã€‚" class="headerlink" title="ä½†æ˜¯åŒæ—¶åŸæœ‰nexusçš„Privilegesã€Rolesã€Usersä¹Ÿä¼šè¿‡æ¥ï¼Œéœ€è¦åç»­è¿›è¡Œè°ƒæ•´ã€‚"></a>ä½†æ˜¯åŒæ—¶åŸæœ‰nexusçš„Privilegesã€Rolesã€Usersä¹Ÿä¼šè¿‡æ¥ï¼Œéœ€è¦åç»­è¿›è¡Œè°ƒæ•´ã€‚</h3><h2 id="å½“ç„¶æ­¤æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥å…¨é‡å‡çº§nexus2-xåˆ°nexus3-xã€‚"><a href="#å½“ç„¶æ­¤æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥å…¨é‡å‡çº§nexus2-xåˆ°nexus3-xã€‚" class="headerlink" title="å½“ç„¶æ­¤æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥å…¨é‡å‡çº§nexus2.xåˆ°nexus3.xã€‚"></a>å½“ç„¶æ­¤æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥å…¨é‡å‡çº§nexus2.xåˆ°nexus3.xã€‚</h2>
                    
                        

                    
                    
                        <p>
                            <a href="/posts/7037/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/28954/">
                            Nexus3æ­å»ºé…ç½®
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-11-17T14:39:35+08:00">
	
		    Nov 17, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li>ä¸‹è½½åœ°å€ï¼š<a href="https://www.sonatype.com/nexus-repository-oss" target="_blank" rel="noopener">å®˜æ–¹ç½‘ç«™</a></li>
<li>è½¯ç¡¬ä»¶éœ€æ±‚ï¼š<a href="https://help.sonatype.com/display/NXRM3/System+Requirements" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
<li>å®‰è£…æ–¹æ³•ï¼š<a href="https://help.sonatype.com/display/NXRM3/Installation" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<p>PS:</p>
<ul>
<li>nexusåˆ†ä¸ºnexus-repository-oss(å…è´¹ç‰ˆ)å’Œnexus-repository-pro(å•†ä¸šç‰ˆ)</li>
<li>ä¸»è¦ä½¿ç”¨ç‰ˆæœ¬ï¼š2.xå’Œ3.x</li>
<li>ç‰ˆæœ¬åŒºåˆ«ï¼š<a href="https://help.sonatype.com/display/NXRM3/Repository+Manager+Feature+Matrix#RepositoryManagerFeatureMatrix-OBR" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<h1 id="JAVAé¡¹ç›®ä¾èµ–ç®¡ç†æ–¹æ³•ï¼š"><a href="#JAVAé¡¹ç›®ä¾èµ–ç®¡ç†æ–¹æ³•ï¼š" class="headerlink" title="JAVAé¡¹ç›®ä¾èµ–ç®¡ç†æ–¹æ³•ï¼š"></a>JAVAé¡¹ç›®ä¾èµ–ç®¡ç†æ–¹æ³•ï¼š</h1><ol>
<li>æ‰€æœ‰ä¾èµ–jaråŒ…éƒ½ä¸Šä¼ æäº¤åˆ°ä»£ç åº“é‡Œé¢ï¼š<ul>
<li>ä¼˜ç‚¹ï¼šç›´æ¥è·å–ä»£ç åº“ä»£ç å°±å¯ä»¥è¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œä¸éœ€è¦ä¾èµ–å¤–éƒ¨ç½‘ç»œ(ç‹¬ç«‹ä¸ªäººå°é¡¹ç›®)</li>
<li>ç¼ºç‚¹ï¼š<ul>
<li>ä¾èµ–åŒ…ä½“ç§¯å¾ˆå¤§ï¼Œå¯¼è‡´ä»£ç è·å–æ¨é€å¤ªè€—æ—¶å’Œå ç”¨å¸¦å®½ï¼›</li>
<li>åŸºç¡€æ¡†æ¶ä¾èµ–åŒ…æ¯ä¸ªä»£ç åº“éƒ½è¦å­˜æ”¾ä¸€ä»½(ç©ºé—´æµªè´¹)ï¼›</li>
<li>å½“å‰ä¾èµ–åŒ…ç‰ˆæœ¬ä¸æ˜ç¡®ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>ä¾èµ–åŒ…ç¼–è¯‘è¿‡ç¨‹ä¸­ä¸‹è½½ï¼Œä¸ä¸Šä¼ åˆ°ä»£ç åº“ï¼š<ul>
<li>ä¼˜ç‚¹ï¼š<ul>
<li>ä»£ç åº“å¹²å‡€ï¼Œä½“ç§¯å°ï¼›</li>
<li>é¡¹ç›®æ˜¾æ€§é…ç½®ä¾èµ–åŒ…ç‰ˆæœ¬å’Œå¼•ç”¨é˜¶æ®µæ¸…æ™°æ˜äº†ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="ç§æœçš„ä¼˜ç‚¹ï¼š"><a href="#ç§æœçš„ä¼˜ç‚¹ï¼š" class="headerlink" title="ç§æœçš„ä¼˜ç‚¹ï¼š"></a>ç§æœçš„ä¼˜ç‚¹ï¼š</h1><ol>
<li>ç»Ÿä¸€æœåŠ¡å™¨ä»£ç†å¤–éƒ¨ä¾èµ–ï¼ˆèŠ‚çœå¤–ç½‘å¸¦å®½ï¼‰ï¼›</li>
<li>é¡¹ç›®ä¸‹è½½ä¾èµ–é€šè¿‡å†…éƒ¨ç½‘ç»œçš„è¿›è¡Œï¼ˆæ›´å¿«ï¼‰ï¼›</li>
<li>æ‰˜ç®¡å†…éƒ¨é¡¹ç›®ä¾èµ–ï¼ˆåä½œæ›´æ–¹ä¾¿ï¼‰ï¼›</li>
<li>æ‰˜ç®¡ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ˆä¾‹å¦‚ï¼šåˆä½œä¼™ä¼´çš„ä¾èµ–åŒ…ï¼‰<br><img src="/posts/28954/nexus0.png" alt="logo"></li>
</ol>
<h1 id="æ­å»ºç¯å¢ƒç‰ˆæœ¬ï¼š"><a href="#æ­å»ºç¯å¢ƒç‰ˆæœ¬ï¼š" class="headerlink" title="æ­å»ºç¯å¢ƒç‰ˆæœ¬ï¼š"></a>æ­å»ºç¯å¢ƒç‰ˆæœ¬ï¼š</h1><ul>
<li>OSï¼š        Windows Server 2012 R2</li>
<li>JDKï¼š       1.8.0_71</li>
<li>nexus-repository-oss 3.6.0-02</li>
</ul>
<h1 id="æ­å»ºæ­¥éª¤ï¼š"><a href="#æ­å»ºæ­¥éª¤ï¼š" class="headerlink" title="æ­å»ºæ­¥éª¤ï¼š"></a>æ­å»ºæ­¥éª¤ï¼š</h1><ol>
<li>å®‰è£…JDK</li>
<li>å®˜ç½‘ä¸‹è½½ï¼šnexus-3.6.0-02-win64.zip,è§£å‹ç¼©</li>
<li><p>é…ç½®windowsæœåŠ¡ï¼š<a href="https://help.sonatype.com/display/NXRM3/Run+as+a+Service" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$install-dir/bin/nexus.exe /install &lt;optional-service-name&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nexus.exe /start &lt;optional-service-name&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç½‘é¡µç«¯ç™»é™†é…ç½®Nexus</p>
<ul>
<li>http://$ip:8081</li>
<li>ç”¨æˆ·å/å¯†ç ï¼šadmin/admin123</li>
</ul>
</li>
</ol>
<h1 id="åå°é…ç½®ï¼š"><a href="#åå°é…ç½®ï¼š" class="headerlink" title="åå°é…ç½®ï¼š"></a>åå°é…ç½®ï¼š</h1><ol>
<li><p>dataç›®å½•ä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$install-dir/bin/nexus.vmoptions</span><br><span class="line"></span><br><span class="line">-Dkaraf.data=../sonatype-work/nexus3</span><br><span class="line">-Djava.io.tmpdir=../sonatype-work/nexus3/tmp</span><br><span class="line">-XX:LogFile=../sonatype-work/nexus3/log/jvm.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœåŠ¡ç«¯å£å·ä¿®æ”¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$data-dir/etc/nexus.properties</span><br><span class="line"></span><br><span class="line"># Jetty section</span><br><span class="line">application-port=8081</span><br></pre></td></tr></table></figure>
</li>
<li><p>jvmæ€§èƒ½è°ƒä¼˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$install-dir/bin/nexus.vmoptions</span><br><span class="line"></span><br><span class="line">-Xms4G</span><br><span class="line">-Xmx4G</span><br><span class="line">-XX:MaxDirectMemorySize=4014M</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ä»¥ä¸Šä¿®æ”¹éƒ½éœ€è¦é‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚</p>
<h1 id="å‰å°é…ç½®ï¼š"><a href="#å‰å°é…ç½®ï¼š" class="headerlink" title="å‰å°é…ç½®ï¼š"></a>å‰å°é…ç½®ï¼š</h1><p>ä½¿ç”¨ç®¡ç†å‘˜adminè´¦å·ç™»é™†</p>
<h2 id="é…ç½®é‚®ç®±"><a href="#é…ç½®é‚®ç®±" class="headerlink" title="é…ç½®é‚®ç®±"></a>é…ç½®é‚®ç®±</h2><p><img src="/posts/28954/nexus_email.jpg" alt="logo"></p>
<h2 id="é…ç½®LDAP"><a href="#é…ç½®LDAP" class="headerlink" title="é…ç½®LDAP"></a>é…ç½®LDAP</h2><p><img src="/posts/28954/nexus_ldap1.png" alt="logo"><br><img src="/posts/28954/nexus_ldap2.png" alt="logo"><br><img src="/posts/28954/nexus_ldap3.png" alt="logo"></p>
<h2 id="é…ç½®æƒé™"><a href="#é…ç½®æƒé™" class="headerlink" title="é…ç½®æƒé™"></a>é…ç½®æƒé™</h2><p><img src="/posts/28954/nexus_role1.png" alt="logo"><br><img src="/posts/28954/nexus_role2.png" alt="logo"><br><img src="/posts/28954/nexus_role3.png" alt="logo"></p>
<h2 id="é…ç½®repositories"><a href="#é…ç½®repositories" class="headerlink" title="é…ç½®repositories"></a>é…ç½®repositories</h2><p>repositoriesåˆ†ä¸ºä¸‰ä¸ªç§ç±»ï¼š</p>
<ol>
<li>proxy    ä»£ç†è¿œç«¯ä»“åº“</li>
<li>hosted   æœ¬åœ°å†…éƒ¨ä»“åº“</li>
<li>group    ç»„åˆä»“åº“<br><img src="/posts/28954/nexus_res.png" alt="logo"></li>
</ol>
<h1 id="Mavenä¾èµ–ç§æœé…ç½®"><a href="#Mavenä¾èµ–ç§æœé…ç½®" class="headerlink" title="Mavenä¾èµ–ç§æœé…ç½®"></a>Mavenä¾èµ–ç§æœé…ç½®</h1><p>ä¿®æ”¹~/.m2/settings.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;settings&gt;</span><br><span class="line">  &lt;servers&gt;</span><br><span class="line">    &lt;server&gt;</span><br><span class="line">      &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">      &lt;username&gt;ç”¨æˆ·å&lt;/username&gt;</span><br><span class="line">      &lt;password&gt;å¯†ç &lt;/password&gt;</span><br><span class="line">    &lt;/server&gt;</span><br><span class="line">  &lt;/servers&gt;</span><br><span class="line">  &lt;mirrors&gt;</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">    &lt;!--This sends everything else to /public --&gt;</span><br><span class="line">    &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class="line">    &lt;url&gt;http://$ip:8081/repository/maven-public/&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt;</span><br><span class="line">  &lt;/mirrors&gt;</span><br><span class="line">  &lt;profiles&gt;</span><br><span class="line">    &lt;profile&gt;</span><br><span class="line">    &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">    &lt;!--Enable snapshots for the built in central repo to direct --&gt;</span><br><span class="line">    &lt;!--all requests to nexus via the mirror --&gt;</span><br><span class="line">    &lt;repositories&gt;</span><br><span class="line">        &lt;repository&gt;</span><br><span class="line">        &lt;id&gt;central&lt;/id&gt;</span><br><span class="line">        &lt;url&gt;http://central&lt;/url&gt;</span><br><span class="line">        &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;</span><br><span class="line">        &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;</span><br><span class="line">        &lt;/repository&gt;</span><br><span class="line">    &lt;/repositories&gt;</span><br><span class="line">    &lt;pluginRepositories&gt;</span><br><span class="line">        &lt;pluginRepository&gt;</span><br><span class="line">        &lt;id&gt;central&lt;/id&gt;</span><br><span class="line">        &lt;url&gt;http://central&lt;/url&gt;</span><br><span class="line">        &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;</span><br><span class="line">        &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;</span><br><span class="line">        &lt;/pluginRepository&gt;</span><br><span class="line">    &lt;/pluginRepositories&gt;</span><br><span class="line">    &lt;/profile&gt;</span><br><span class="line">  &lt;/profiles&gt;</span><br><span class="line">  &lt;activeProfiles&gt;</span><br><span class="line">    &lt;!--make the profile active all the time --&gt;</span><br><span class="line">    &lt;activeProfile&gt;nexus&lt;/activeProfile&gt;</span><br><span class="line">  &lt;/activeProfiles&gt;</span><br><span class="line">&lt;/settings&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="å†…éƒ¨é¡¹ç›®ä¸Šä¼ jaråŒ…ï¼š"><a href="#å†…éƒ¨é¡¹ç›®ä¸Šä¼ jaråŒ…ï¼š" class="headerlink" title="å†…éƒ¨é¡¹ç›®ä¸Šä¼ jaråŒ…ï¼š"></a>å†…éƒ¨é¡¹ç›®ä¸Šä¼ jaråŒ…ï¼š</h1><p>ä¿®æ”¹é¡¹ç›®pom.xmlæ–‡ä»¶å¢åŠ <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;distributionManagement&gt;</span><br><span class="line">    &lt;repository&gt;</span><br><span class="line">      &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">      &lt;name&gt;Releases&lt;/name&gt;</span><br><span class="line">      &lt;url&gt;http://$ip:8081/repository/maven-releases&lt;/url&gt;</span><br><span class="line">    &lt;/repository&gt;</span><br><span class="line">    &lt;snapshotRepository&gt;</span><br><span class="line">      &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">      &lt;name&gt;Snapshot&lt;/name&gt;</span><br><span class="line">      &lt;url&gt;http://$ip:8081/repository/maven-snapshots&lt;/url&gt;</span><br><span class="line">    &lt;/snapshotRepository&gt;</span><br><span class="line">&lt;/distributionManagement&gt;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæ‰§è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean deploy</span><br></pre></td></tr></table></figure></p>
<h1 id="ä¸Šä¼ ç¬¬ä¸‰æ–¹jaråŒ…ï¼š"><a href="#ä¸Šä¼ ç¬¬ä¸‰æ–¹jaråŒ…ï¼š" class="headerlink" title="ä¸Šä¼ ç¬¬ä¸‰æ–¹jaråŒ…ï¼š"></a>ä¸Šä¼ ç¬¬ä¸‰æ–¹jaråŒ…ï¼š</h1><p>nexus3ä¸èƒ½ä½¿ç”¨webç«¯æ¥ä¸Šä¼ ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œåªèƒ½ä½¿ç”¨å‘½ä»¤è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -Dpackaging=jar -Dfile=$path/XX.jar -Durl=http://$ip:8081/repository/$hosted_3rd/ -DrepositoryId=nexus</span><br></pre></td></tr></table></figure></p>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/28954/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/54025/">
                            æŒç»­ä»£ç è´¨é‡å¹³å°Sonar-5å®¡è®¡
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-02T11:22:16+08:00">
	
		    Aug 02, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h2><pre><code>Devå·²ç»ä¹ æƒ¯ä½¿ç”¨Sonarqubeè¿›è¡Œé™æ€ä»£ç æ‰«æï¼Œç°å‡†å¤‡è¿›è¡Œé˜¶æ®µå®¡è®¡çœ‹ä¸‹ä½¿ç”¨æ•ˆæœæ€ä¹ˆæ ·ã€‚
</code></pre><hr>
<p>PSï¼š</p>
<ol>
<li>Sonarqubeæ ¹æ®Keyæ¥å”¯ä¸€æ ‡ç¤ºé¡¹ç›®ã€‚</li>
<li>Resolution é‡Œé¢çš„False Positiveï¼ˆè¯¯æŠ¥ï¼‰å’Œ Wonâ€™t fixï¼ˆæš‚ä¸å¤„ç†ï¼‰ä¼šè‡ªåŠ¨ç»§æ‰¿ï¼š<ul>
<li>å¦‚æœä¸€ä¸ªé—®é¢˜æœ¬æ¬¡æ ‡è®°ä¸ºFalse Positive æˆ–è€… Wonâ€™t fix</li>
<li>ä»¥åæ­¤é¡¹ç›®è¿›è¡Œåˆ†ææ—¶æ­¤é—®é¢˜è‡ªåŠ¨æ ‡è®°ã€‚</li>
<li>å…¶ä»–é¡¹ç›®(Keyä¸åŒ)è¿˜æ˜¯ä¼šæŠ¥æ­¤é—®é¢˜ã€‚<br><img src="/posts/54025/resolutions.png" alt="logo"><br><img src="/posts/54025/resolution2.png" alt="logo"></li>
</ul>
</li>
</ol>
<hr>
<h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><p>Devæ­£å¸¸è¿›è¡Œå¼€å‘è¿‡ç¨‹çš„é™æ€ä»£ç æ‰«æï¼ŒSCMå¯¹é¡¹ç›®ä¸»å¹²ï¼ˆmasterï¼‰ä»£ç è¿›è¡Œè½®è¯¢é™æ€ä»£ç æ‰«æã€‚</p>
<ol>
<li>ä¸»å¹²ä»£ç é™æ€ä»£ç æ‰«ææ—¶Project Keyå¢åŠ ç»Ÿä¸€æ ‡å¿—æ¥åŒºåˆ†Devå¼€å‘è¿‡ç¨‹æ‰«æï¼š<ul>
<li>ä¾‹å¦‚ï¼šä¿®æ”¹maven pomæ–‡ä»¶ artifactIdå¢åŠ  master/admin/scm åç¼€</li>
</ul>
</li>
<li>æ›´æ–°Devå¼€å‘è¿‡ç¨‹é¡¹ç›®æ ‡è®°è§„åˆ™åˆ°ä¸»å¹²ã€‚</li>
</ol>
<hr>
<h2 id="åŒæ­¥ä¸åŒé¡¹ç›®æ ‡è®°è§„åˆ™ï¼š"><a href="#åŒæ­¥ä¸åŒé¡¹ç›®æ ‡è®°è§„åˆ™ï¼š" class="headerlink" title="åŒæ­¥ä¸åŒé¡¹ç›®æ ‡è®°è§„åˆ™ï¼š"></a>åŒæ­¥ä¸åŒé¡¹ç›®æ ‡è®°è§„åˆ™ï¼š</h2><ol>
<li>å®‰è£…Issue resolveræ’ä»¶ï¼š<ul>
<li>Export and import resolved issues (false-positive and wonâ€™t fix) from SonarQube projects.</li>
</ul>
</li>
<li>æ›´æ–°devé¡¹ç›®æ ‡è®°è§„åˆ™åˆ°ä¸»å¹²é¡¹ç›®ï¼š<ul>
<li>webç«¯æ“ä½œæ–¹æ³•ï¼š<br><img src="/posts/54025/biaoji1.png" alt="logo"><br><img src="/posts/54025/biaoji2.png" alt="logo"></li>
</ul>
<hr>
<ul>
<li>Apiè°ƒç”¨æ–¹æ³•ï¼š<ul>
<li>æŸ¥çœ‹ï¼š<a href="http://ip:9000/web_api/api/issueresolver" target="_blank" rel="noopener">http://ip:9000/web_api/api/issueresolver</a><br><img src="/posts/54025/api.png" alt="logo"></li>
</ul>
</li>
</ul>
</li>
</ol>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/54025/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/7875/">
                            æŒç»­ä»£ç è´¨é‡å¹³å°Sonar-4Android
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-07-18T18:51:03+08:00">
	
		    Jul 18, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h1><ul>
<li>Analyzing with SonarQube Scanner for Gradleï¼š<a href="https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Gradle" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
<li>Gradle sonarqubeæ’ä»¶ï¼š<a href="https://plugins.gradle.org/plugin/org.sonarqube" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li>
<li>Sonarqube Android Lint pluginï¼š<a href="https://github.com/ofields/sonar-android" target="_blank" rel="noopener">Github</a></li>
</ul>
<h1 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h1><ul>
<li>Gradle:       2.10</li>
<li>Sonarqube:    6.3.1</li>
</ul>
<h1 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å…¬å¸ä½¿ç”¨javaè¯­è¨€å¼€å‘Androidé¡¹ç›®ï¼Œä½¿ç”¨Gradleä½œä¸ºæ„å»ºå·¥å…·ã€‚</span><br><span class="line">é»˜è®¤çš„Sonarway javaè§„åˆ™ä¹Ÿå¯ä»¥è¿›è¡Œé™æ€ä»£ç æ‰«æã€‚</span><br><span class="line">å¸Œæœ›å¢åŠ ä¸šç•Œå¸¸ç”¨çš„Android lintè§„åˆ™è¿›è¡Œæ‰«æï¼Œæœ¬æ–‡è®°å½•é…ç½®ä½¿ç”¨æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Sonarqube-å®‰è£…-Android-lintæ’ä»¶"><a href="#Sonarqube-å®‰è£…-Android-lintæ’ä»¶" class="headerlink" title="Sonarqube å®‰è£… Android lintæ’ä»¶"></a>Sonarqube å®‰è£… Android lintæ’ä»¶</h3><p><img src="/posts/7875/Android_lint.png" alt="logo"><br>ç‚¹å‡»Quality ProfilesæŸ¥çœ‹Android Lintè§„åˆ™<br><img src="/posts/7875/lint.png" alt="logo"></p>
<hr>
<h3 id="Sonarqube-é…ç½®Androidé¡¹ç›®æ‰«æè§„åˆ™"><a href="#Sonarqube-é…ç½®Androidé¡¹ç›®æ‰«æè§„åˆ™" class="headerlink" title="Sonarqube é…ç½®Androidé¡¹ç›®æ‰«æè§„åˆ™"></a>Sonarqube é…ç½®Androidé¡¹ç›®æ‰«æè§„åˆ™</h3><p>æˆ‘ä»¬é…ç½®ä¸€ä¸ªæ–°çš„Quality Profilesï¼javaç”¨äºAndroidé¡¹ç›®æ‰«æã€‚</p>
<p>æ–°è§„åˆ™ åŒ…å«Java Sonar wayçš„Bugsã€Vulnerabilities å’Œ Android Lintçš„Code Smells<br><img src="/posts/7875/Android.png" alt="logo"><br><img src="/posts/7875/new.png" alt="logo"><br><img src="/posts/7875/change.png" alt="logo"><br><img src="/posts/7875/next1.png" alt="logo"><br><img src="/posts/7875/next2.png" alt="logo"><br><img src="/posts/7875/code_smell.png" alt="logo"><br><img src="/posts/7875/done.png" alt="logo"></p>
<hr>
<h3 id="æœ¬åœ°é…ç½®ä½¿ç”¨"><a href="#æœ¬åœ°é…ç½®ä½¿ç”¨" class="headerlink" title="æœ¬åœ°é…ç½®ä½¿ç”¨"></a>æœ¬åœ°é…ç½®ä½¿ç”¨</h3><ul>
<li>é…ç½®ç³»ç»Ÿgradle.propertieså¢åŠ ä¸‹é¢å†…å®¹ ï¼ˆï½/.gradle/gradle.propertiesï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemProp.sonar.host.url=http://ip:9000</span><br><span class="line">#----- Security (when &apos;sonar.forceAuthentication&apos; is set to &apos;true&apos;)</span><br><span class="line">systemProp.sonar.login=ä¸ªäººtoken</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¿®æ”¹é¡¹ç›®build.gradle ç›¸åº”ä½ç½®å¢åŠ ä¸‹é¢é…ç½®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &quot;org.sonarqube&quot;</span><br><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven&#123;url &quot;https://plugins.gradle.org/m2/&quot;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.5&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">sonarqube &#123;</span><br><span class="line">    androidVariant &apos;fullDebug&apos;</span><br><span class="line">	properties &#123;</span><br><span class="line">        property &quot;sonar.projectName&quot;, &quot;é¡¹ç›®åç§°&quot;</span><br><span class="line">        property &quot;sonar.projectKey&quot;, &quot;é¡¹ç›®Key&quot;</span><br><span class="line">        property &quot;sonar.projectDescription&quot;, &quot;é¡¹ç›®æè¿°&quot;</span><br><span class="line">        property &quot;sonar.projectVersion&quot;, &quot;é¡¹ç›®ç‰ˆæœ¬&quot;</span><br><span class="line">        property &quot;sonar.profile&quot;, &quot;Android(ä¸Šé¢æ–°å»ºçš„profileåç§°)&quot;</span><br><span class="line">        property &quot;sonar.android.lint.report&quot;, &quot;./build/outputs/lint-results-debug.xml&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>æ‰§è¡Œgradle lintDebug    ç”Ÿæˆlint-results-debug.xml</p>
</li>
<li><p>æ‰§è¡Œgradle Sonarqube    æ„å»ºã€åˆ†æã€ä¸Šä¼ </p>
</li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/7875/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/posts/19471/">
                            æŒç»­ä»£ç è´¨é‡å¹³å°Sonar-3ä½¿ç”¨
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-07-12T20:18:00+08:00">
	
		    Jul 12, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/SCM/">SCM</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Analyzing-Source-Code"><a href="#Analyzing-Source-Code" class="headerlink" title="Analyzing Source Code"></a>Analyzing Source Code</h2><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://docs.sonarqube.org/display/SCAN/Analyzing+Source+Code" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<p>æœ¬æ–‡åªæ¶‰åŠmavenå’Œsonar-scanneræ–¹å¼ï¼Œå…¶å®ƒè¯·å‚è€ƒä¸Šé¢é“¾æ¥ã€‚</p>
<h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><p>é€‚åˆMavené¡¹ç›®</p>
<ol>
<li>åœ¨sonarqubeå¹³å°ä¸Šé¢ä¸ªäººè´¦æˆ·ç”Ÿæˆtokenã€‚</li>
<li><p>åœ¨æœ¬æœºçš„mvné…ç½®settings.xml å¢åŠ ä¸‹é¢é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;profile&gt;</span><br><span class="line">    &lt;id&gt;sonar&lt;/id&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;</span><br><span class="line">    &lt;/activation&gt;</span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;sonar.host.url&gt;http://ip:9000&lt;/sonar.host.url&gt;</span><br><span class="line">        &lt;sonar.login&gt;ç¬¬ä¸€æ­¥ç”Ÿæˆçš„tokenå€¼&lt;/sonar.login&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line">&lt;/profile&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»£ç åº“æ‰§è¡Œæ‰“åŒ…ï¼šmvn clean install</p>
</li>
<li>ä»£ç åº“è¿›è¡Œåˆ†æå¹¶ä¸Šä¼ sonarqubeå¹³å°ï¼šmvn sonar:sonar</li>
</ol>
<p>PSï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœä»£ç åº“pomæ–‡ä»¶é…ç½®å¦‚ä¸‹</span><br><span class="line">    &lt;groupId&gt;ggg&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aaa&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">    &lt;name&gt;nnn&lt;/name&gt;</span><br><span class="line">é‚£ä¹ˆåˆ†æä¸Šä¼ åˆ°sonarqubeå¹³å°ï¼š</span><br><span class="line">    å¯¹åº”çš„é¡¹ç›®keyä¸ºggg:aaa</span><br><span class="line">    å¯¹åº”çš„é¡¹ç›®åç§°ä¸ºnnn</span><br><span class="line">    å¯¹åº”çš„ç‰ˆæœ¬ä¸ºï¼š1.0.0</span><br><span class="line">æ³¨æ„</span><br><span class="line">â€ƒâ€ƒ  ä¸è¦æ‰¾é”™é¡¹ç›®äº†ã€‚</span><br><span class="line">â€ƒâ€ƒ  åŒä¸€ä¸ªkeyæŒ‡å‘çš„é¡¹ç›®æ°¸è¿œæ˜¾ç¤ºçš„æ˜¯æœ€æ–°çš„ä¸€æ¬¡ä»£ç åˆ†æç»“æœã€‚</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="Sonar-scanner"><a href="#Sonar-scanner" class="headerlink" title="Sonar-scanner"></a>Sonar-scanner</h3><p>é€‚åˆæ‰€æœ‰é¡¹ç›®</p>
<ol>
<li><p>ä¸‹è½½Sonar-scannerï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé…ç½®&lt;install_directory&gt;/conf/sonar-scanner.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#Configure here general information about the environment, such as SonarQube DB details for example</span><br><span class="line">#No information about specific project should appear here</span><br><span class="line">#----- Default SonarQube server</span><br><span class="line">sonar.host.url=http://ip:9000</span><br><span class="line">#----- Default source code encoding</span><br><span class="line">sonar.sourceEncoding=UTF-8</span><br><span class="line">sonar.login=ä¸ªäººè´¦æˆ·ç”Ÿæˆçš„token</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•å¢åŠ sonar-project.propertiesï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># must be unique in a given SonarQube instance</span><br><span class="line">sonar.projectKey=ggg:aaa            #å¯¹åº”çš„é¡¹ç›®keyä¸ºggg:aaa</span><br><span class="line"># this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1.</span><br><span class="line">sonar.projectName=nnn               #å¯¹åº”çš„é¡¹ç›®åç§°ä¸ºnnn</span><br><span class="line">sonar.projectVersion=1.0.0          #å¯¹åº”çš„ç‰ˆæœ¬ä¸ºï¼š1.0.0</span><br><span class="line"># Path is relative to the sonar-project.properties file. Replace &quot;\&quot; by &quot;/&quot; on Windows.</span><br><span class="line"># This property is optional if sonar.modules is set.</span><br><span class="line">sonar.sources=.</span><br><span class="line">sonar.java.binaries=target/classes    #é…ç½®ä¸ºé¡¹ç›®å…·ä½“çš„classç›®å½•ï¼Œå¦‚æœä¸é…ç½®çš„è¯åªè¿›è¡Œæºä»£ç åˆ†æ</span><br><span class="line"># Encoding of the source code. Default is default system encoding</span><br><span class="line">#sonar.sourceEncoding=UTF-8</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡Œæ‰«æåˆ†æï¼š<br> Buildï¼ˆå¯ä»¥ä¸æ‰§è¡Œæ„å»ºï¼‰<br> sonar-scanner</p>
</li>
</ol>
<hr>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>ç‚¹å‡»ï¼š<a href="http://ip:9000/web_api/" target="_blank" rel="noopener">http://ip:9000/web_api/</a> ï¼ŒæŸ¥çœ‹Sonarqubeæ”¯æŒçš„web_apiã€‚</p>
<p>ä»¥Python2.7 ä¸ºä¾‹ç®€å•ä»‹ç»apiä½¿ç”¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">s = requests.session()</span><br><span class="line">user_info = &#123;&apos;login&apos;: &apos;username&apos;, &apos;password&apos;: &apos;pass&apos;&#125;</span><br><span class="line">api_url = &apos;http://ip:9000/api&apos;</span><br><span class="line"># ç™»å½•</span><br><span class="line">res_login = s.post(</span><br><span class="line">    &apos;%s/authentication/login&apos; % api_url, data=user_info)</span><br><span class="line"># è·å–æŒ‡å®šé¡¹ç›®æœªè§£å†³Bugsè¯¦æƒ…</span><br><span class="line">res_bugs = s.get(</span><br><span class="line">    &apos;%s/issues/search&apos; % api_url, params=&#123;&apos;componentKeys&apos;: &apos;ggg:aaa&apos;, &apos;types&apos;: &apos;BUG&apos;, &apos;resolved&apos;: &apos;false&apos;, &apos;ps&apos;: 500&#125;)</span><br><span class="line"># è§£æç»“æœè·å–æœªè§£å†³bugsæ€»æ•°</span><br><span class="line">total_bugs = res_bugs.json()[u&apos;paging&apos;][u&apos;total&apos;]</span><br><span class="line"># è·å–æŒ‡å®šé¡¹ç›®æ–°å¢æœªè§£å†³Bugsè¯¦æƒ…</span><br><span class="line">res_new_bugs = s.get(</span><br><span class="line">    &apos;%s/issues/search&apos; % api_url, params=&#123;&apos;componentKeys&apos;: &apos;ggg:aaa&apos;, &apos;types&apos;: &apos;BUG&apos;, &apos;resolved&apos;: &apos;false&apos;, &apos;ps&apos;: 500, &apos;sinceLeakPeriod&apos;: &apos;true&apos;&#125;)</span><br><span class="line"># è§£æç»“æœè·å–æ–°å¢bugsæ€»æ•°</span><br><span class="line">new_bugs = res_new_bugs.json()[u&apos;paging&apos;][u&apos;total&apos;]</span><br><span class="line"># ç™»å‡º</span><br><span class="line">res_logout = s.post(</span><br><span class="line">    &apos;%s/authentication/logout&apos; % api_url)</span><br></pre></td></tr></table></figure></p>

                    
                        

                    
                    
                        <p>
                            <a href="/posts/19471/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/page/2/">
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 2</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Weilong. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/owl.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Weilong</h4>
        
            <div id="about-card-bio"> <ul> <li>Write something about work and life: <ul class="nav pull-left"> <li>Configuration management</li> <li>Process improvement</li> <li>Continuous deploy</li> <li>Python program</li> </ul> </li> </ul> </div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>SCM Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Shenzhen
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-yhuo2grt8r7qkqumzgjoglkfbicl1thukjgmla6jopu56zpcowfedi5zjcor.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
